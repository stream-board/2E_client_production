{"version":3,"sources":["webpack:///./src/assets/images/logo-white.png","webpack:///src/App.vue","webpack:///./src/App.vue?abea","webpack:///./src/App.vue","webpack:///./src/constants/graphql.js","webpack:///./src/constants/constants.js","webpack:///src/components/Lobby.vue","webpack:///./src/components/Lobby.vue?0ea6","webpack:///./src/components/Lobby.vue","webpack:///./src/components/Board.js","webpack:///./src/components/Board.vue?3ac3","webpack:///./src/components/Board.vue","webpack:///src/components/Actions.vue","webpack:///./src/components/Actions.vue?aef3","webpack:///./src/components/Actions.vue","webpack:///src/components/Chat.vue","webpack:///./src/components/Chat.vue?d7cc","webpack:///./src/components/Chat.vue","webpack:///./src/components/Streaming.js","webpack:///./src/components/Streaming.vue?0da6","webpack:///./src/components/Streaming.vue","webpack:///src/components/Room.vue","webpack:///./src/components/Room.vue?4445","webpack:///./src/components/Room.vue","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?6540","webpack:///./src/components/Login.vue","webpack:///src/components/Application.vue","webpack:///./src/components/Application.vue?970a","webpack:///./src/components/Application.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/assets/images/banner.png","webpack:///./src/assets/images/logo.png"],"names":["module","exports","__webpack_require__","p","App","String","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","normalizeComponent","ssrContext","VALIDATE_TOKEN_QUERY","src_default","_templateObject","ALL_ROOMS_QUERY","_templateObject2","ROOM_BY_ID_QUERY","_templateObject3","MESSAGES_BY_ROOM_ID_QUERY","_templateObject4","USER_IMAGE_BY_ID_QUERY","_templateObject5","CREATE_SESSION_MUTATION","_templateObject6","CREATE_ROOM_MUTATION","_templateObject7","JOIN_ROOM_MUTATION","_templateObject8","DELETE_ROOM_MUTATION","_templateObject9","EXIT_ROOM_MUTATION","_templateObject10","DELETE_SESSION_MUTATION","_templateObject11","COLORS","name","value","THICKNESSES","TYPES","icon","CATEGORIES","Lobby","fetchData","_this","then","result","categoryRoom","idRoom","owner","nameRoom","descriptionRoom","newCategory","room","rooms","error","_this2","response","message","_this3","description","category","_this4","email","token","client","path","categories","components_Lobby","_vm","fixed","app","clipped","row","wrap","text-xs-center","xs12","staticClass","size","src","user","image","alt","_v","_s","nickname","dense","selectedCategory","on","click","$event","sortBy","_l","key","color","dark","clipped-left","logout","staticStyle","padding-left","padding-top","fluid","fill-height","justify-center","persistent","max-width","model","callback","$$v","joinDialog","expression","slot","autofocus","label","mask","keyup","_k","keyCode","joinRoom","joinId","flat","nativeOn","cancelJoin","createDialog","grid-list-md","required","createRoom","newRoom","$set","multi-line","items","item-text","scopedSlots","_u","fn","data","item","domProps","innerHTML","cancelCreate","refresh","two-line","checkCategory","avatar","_e","snackbar","src_components_Lobby","Lobby_normalizeComponent","Board","socket","isAllowed","selectedColor","selectedThickness","selectedType","mounted","JSON","parse","localStorage","getItem","URL","$route","params","roomid","io","roomId","snapshot","canvas","context","$swal","$bus","isPenDown","hasTouch","localPen","registerSocketListeners","emit","setAdmin","changePermissions","type","console","log","drawPath","thickness","event","coords","x","y","drawLine","start","end","drawMessageListener","clearBoard","title","text","nick","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","answer","socketId","$router","push","getType","restoreSnapshot","putImageData","fillStyle","fillRect","width","height","broadcastPath","broadcastErase","touchDownListener","e","target","nodeName","preventDefault","touchX","changedTouches","clientX","offsetLeft","touchY","clientY","offsetTop","penDown","touchMoveListener","penMove","touchUpListener","penUp","pointerDownListener","window","mouseX","clientWidth","mouseY","clientHeight","pointerMoveListener","pointerUpListener","getImageData","x1","y1","x2","y2","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","closePath","askForTurn","takeBackPencil","updateCursor","disconnect","document","getElementById","getContext","lineCap","onmousedown","onmousemove","onmouseup","ontouchstart","ontouchmove","ontouchend","componentLoaded","setTimeout","methods","$","awesomeCursor","hotspot","components_Board","_m","src_components_Board","Board_normalizeComponent","Actions","components_Actions","align-center","xs3","justify-start","xs1","top","small","disabled","outline","fab","askForBoard","offset-y","nudge-left","nudge-top","style","backgroundColor","grid-list-sm","changeColor","changeType","changeThickness","fontSize","option","xs6","exitToLobby","src_components_Actions","Actions_normalizeComponent","Chat","EmojiConvertor","init_env","slice","$apollo","query","user_id","i","newMessages","initializeSockets","newMessage","colons","emoji_mart","components_Chat","index","class","self","other","word-wrap","text-align","close-on-content-click","margin","z-index","background-color","emoji","addEmoji","position","bottom","left","border-radius","solo","no-resize","sendMessage","offset-xs10","Streaming","videos","mic","cam","webrtc","SimpleWebRTC","localVideoEl","remoteVideosEl","autoRequestMedia","url","stopLocalVideo","leaveRoom","video","peer","getDomId","container","overlay","createElement","classList","add","appendChild","oncontextmenu","onclick","volume","remove","onmouseenter","onmouseleave","muteMic","mute","unmuteMic","unmute","useCam","resumeVideo","blockCam","pauseVideo","muteUser","components_Streaming","loop","perPage","navigationEnabled","scrollPerPage","paginationEnabled","Room","Chat_normalizeComponent","Streaming_normalizeComponent","roomById","next","components_Room","participants","Participants","src_components_Room","Room_normalizeComponent","Login","v","password","createSession","components_Login","ref","lazy-validation","valid","prepend-icon","rules","emailRules","submit","hint","passwordRules","append-icon","hidden","append-icon-cb","src_components_Login","Login_normalizeComponent","Application","userString","validateSession","components_Application","src_components_Application","Application_normalizeComponent","vue_esm","use","vue_router_esm","router","mode","routes","component","children","canReuse","redirect","vuex_esm","store","Store","state","count","mutations","increment","vue_bus_esm","httpLink","lib","uri","apolloClient","apollo_client","link","cache","apollo_cache_inmemory_lib","connectToDevTools","vue_apollo_esm","apolloProvider","defaultClient","config","productionTip","vue_sweetalert2_src","vuetify_default","a","theme","primary","secondary","accent","warning","info","success","icons","eraser","vue_carousel_min_default","el","provide","components","template"],"mappings":"yCAAAA,EAAAC,QAAAC,EAAAC,EAAA,qPCOAC,QAEA,qCAGA,kBAGAC,SCZAC,GADiBC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,SAAmBE,OAAOC,GAAA,mBAAsBH,EAAA,oBAExHI,oBCCjB,IAuBAC,EAvBAd,EAAA,OAcAe,CACAb,EACAE,GATA,EAVA,SAAAY,GACAhB,EAAA,SAaA,KAEA,MAUA,mwJCtBaiB,EAAuBC,IAAvBC,GAkBAC,EAAkBF,IAAlBG,GAgBAC,EAAmBJ,IAAnBK,GAiBAC,EAA4BN,IAA5BO,GASAC,EAAyBR,IAAzBS,GAYAC,EAA0BV,IAA1BW,GAmBAC,EAAuBZ,IAAvBa,GAeAC,EAAqBd,IAArBe,GAaAC,EAAuBhB,IAAvBiB,GAaAC,EAAqBlB,IAArBmB,GAaAC,EAA0BpB,IAA1BqB,GCrJAC,IAETC,KAAM,MACNC,MAAO,YAGPD,KAAM,OACNC,MAAO,YAGPD,KAAM,SACNC,MAAO,YAGPD,KAAM,cACNC,MAAO,YAGPD,KAAM,SACNC,MAAO,YAGPD,KAAM,OACNC,MAAO,YAGPD,KAAM,OACNC,MAAO,YAGPD,KAAM,OACNC,MAAO,YAGPD,KAAM,QACNC,MAAO,YAGPD,KAAM,OACNC,MAAO,YAGPD,KAAM,SACNC,MAAO,YAGPD,KAAM,SACNC,MAAO,YAGPD,KAAM,QACNC,MAAO,YAGPD,KAAM,OACNC,MAAO,YAGPD,KAAM,YACNC,MAAO,YAGPD,KAAM,QACNC,MAAO,YAIEC,IAETF,KAAM,MACNC,MAAO,IAGPD,KAAM,OACNC,MAAO,KAGPD,KAAM,OACNC,MAAO,KAGPD,KAAM,OACNC,MAAO,KAGPD,KAAM,OACNC,MAAO,KAGPD,KAAM,OACNC,MAAO,KAGPD,KAAM,OACNC,MAAO,KAGPD,KAAM,OACNC,MAAO,KAIEE,IAETH,KAAM,SACNC,MAAO,SACPG,KAAM,eAGNJ,KAAM,gBACNC,MAAO,OACPG,KAAM,sBAGNJ,KAAM,QACNC,MAAO,QACPG,KAAM,UAIGC,IAETL,KAAM,WACNC,MAAO,WACPG,KAAM,oBAGNJ,KAAM,cACNC,MAAO,cACPG,KAAM,SAGNJ,KAAM,QACNC,MAAO,QACPG,KAAM,eAGNJ,KAAM,SACNC,MAAO,SACPG,KAAM,UAGNJ,KAAM,QACNC,MAAO,QACPG,KAAM,oBAGNJ,KAAM,WACNC,MAAO,WACPG,KAAM,YAGNJ,KAAM,SACNC,MAAO,SACPG,KAAM,oBAGNJ,KAAM,OACNC,MAAO,OACPG,KAAM,cAGNJ,KAAM,YACNC,MAAO,YACPG,KAAM,WAGNJ,KAAM,UACNC,MAAO,UACPG,KAAM,sBCHVE,QAEA,yDAGAC,oDAKA,cACA,YACA,UACA,8EAEA,0BACA,wBAEA,gBAEAF,kCAGA,IAAAG,EAAA1C,iBACA,2CAEAa,cACA,iBAFA8B,KAAA,SAAAC,yGAOAC,eACA,sBAEA,oBAGAC,eACAC,iBACAC,2BACAC,yBAEAC,UACAC,eACAC,oCAGAC,8BAIAZ,wBACA,iCAEA,IAAAa,EAAAtD,uCACA,uCAEAyB,uBAEApB,UAEAA,KALAsC,KAAA,SAAAY,gCAOAlD,oCAEAgD,KACAG,QAAA,iCACA,2BAGA,IAAAC,EAAAzD,uCACA,uCAEAuB,uBAEAlB,yBACA6B,kCACAwB,sCAEAC,YAPAhB,KAAA,SAAAY,2BASAT,oCACAzC,oCAEAgD,aACA,kCACA,gEAKA,qCAGA,sBACA,4CAGAM,+GAUA,IAAAC,EAAA5D,uCACA,uCAEA+B,mBAEA8B,cACAC,eAEAC,UANApB,KAAA,SAAAY,+BAQA,oBACAS,KAAA,2CAEAX,aACA,gCACA,yDAMAY,oDAEA,gBACA,EACA,OCzSAC,GADiBpE,OAFjB,WAA0B,IAAAqE,EAAAnE,KAAaD,EAAAoE,EAAAlE,eAA0BC,EAAAiE,EAAAhE,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,eAAAA,EAAA,uBAAmDE,OAAOgE,MAAA,GAAAC,IAAA,GAAAC,QAAA,GAAAjE,GAAA,YAAgDH,EAAA,eAAAA,EAAA,YAAmCE,OAAOmE,IAAA,GAAAC,KAAA,GAAAC,iBAAA,MAAwCvE,EAAA,UAAeE,OAAOsE,KAAA,MAAWxE,EAAA,YAAiByE,YAAA,iBAAAvE,OAAoCwE,KAAA,QAAa1E,EAAA,OAAYE,OAAOyE,IAAAV,EAAAW,KAAAC,MAAAC,IAAA,eAAqC,GAAAb,EAAAc,GAAA,KAAA/E,EAAA,UAAiCyE,YAAA,OAAAvE,OAA0BsE,KAAA,MAAWxE,EAAA,MAAWyE,YAAA,aAAuBR,EAAAc,GAAAd,EAAAe,GAAAf,EAAAW,KAAA5C,WAAAiC,EAAAc,GAAA,KAAA/E,EAAA,UAA6DyE,YAAA,kBAAAvE,OAAqCsE,KAAA,MAAWxE,EAAA,MAAWyE,YAAA,eAAyBR,EAAAc,GAAAd,EAAAe,GAAAf,EAAAW,KAAAK,eAAAhB,EAAAc,GAAA,KAAA/E,EAAA,UAAiEyE,YAAA,aAAAvE,OAAgCsE,KAAA,MAAWxE,EAAA,MAAWyE,YAAA,eAAyBR,EAAAc,GAAAd,EAAAe,GAAAf,EAAAW,KAAAjB,aAAA,OAAAM,EAAAc,GAAA,KAAA/E,EAAA,UAAsEE,OAAOgF,MAAA,GAAA/E,GAAA,gBAA8BH,EAAA,aAAAiE,EAAAc,GAAA,KAAA/E,EAAA,eAAgDE,OAAO+B,MAAA,QAAAgC,EAAAkB,kBAAuCC,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAsB,OAAA,WAAoBvF,EAAA,sBAAAA,EAAA,UAAAiE,EAAAc,GAAA,cAAAd,EAAAc,GAAA,KAAA/E,EAAA,uBAAAA,EAAA,qBAAAiE,EAAAc,GAAA,iBAAAd,EAAAc,GAAA,KAAAd,EAAAuB,GAAAvB,EAAA,2BAAAR,GAAiN,OAAAzD,EAAA,eAA0ByF,IAAAhC,EAAAxB,MAAA/B,OAA0B+B,MAAAwB,EAAAxB,QAAAgC,EAAAkB,kBAAgDC,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAsB,OAAA9B,EAAAxB,WAA6BjC,EAAA,sBAAAA,EAAA,UAAAiE,EAAAc,GAAAd,EAAAe,GAAAvB,EAAArB,UAAA,GAAA6B,EAAAc,GAAA,KAAA/E,EAAA,uBAAAA,EAAA,qBAAAiE,EAAAc,GAAAd,EAAAe,GAAAvB,EAAAzB,UAAA,WAAmL,OAAAiC,EAAAc,GAAA,KAAA/E,EAAA,aAAsCE,OAAOwF,MAAA,SAAAC,KAAA,GAAAzB,MAAA,GAAAC,IAAA,GAAAyB,eAAA,MAAkE5F,EAAA,mBAAAA,EAAA,OAAkCE,OAAOyE,IAAApF,EAAA,QAAAY,GAAA,YAA6D8D,EAAAc,GAAA,KAAA/E,EAAA,YAAAiE,EAAAc,GAAA,KAAA/E,EAAA,SAAuDE,OAAOkC,KAAA,IAAUgD,IAAKC,MAAA,SAAAC,GAAyBrB,EAAA4B,aAAe7F,EAAA,UAAAiE,EAAAc,GAAA,yBAAAd,EAAAc,GAAA,KAAA/E,EAAA,aAA2E8F,aAAaC,eAAA,IAAAC,cAAA,KAAqC9F,OAAQC,GAAA,uBAA0BH,EAAA,eAAoBE,OAAO+F,MAAA,GAAAC,cAAA,MAA6BlG,EAAA,YAAiBE,OAAOiG,iBAAA,GAAA9B,IAAA,GAAAC,KAAA,MAAwCtE,EAAA,UAAeE,OAAOsE,KAAA,GAAAD,iBAAA,MAA+BvE,EAAA,MAAWyE,YAAA,cAAwBR,EAAAc,GAAA,8BAAAd,EAAAc,GAAA,KAAA/E,EAAA,UAAgEE,OAAOsE,KAAA,GAAAD,iBAAA,MAA+BvE,EAAA,YAAiBE,OAAOkG,WAAA,GAAAC,YAAA,SAAoCC,OAAQrE,MAAAgC,EAAA,WAAAsC,SAAA,SAAAC,GAAgDvC,EAAAwC,WAAAD,GAAmBE,WAAA,gBAA0B1G,EAAA,SAAcE,OAAOyG,KAAA,YAAAjB,MAAA,WAAqCiB,KAAA,cAAkB1C,EAAAc,GAAA,iBAAAd,EAAAc,GAAA,KAAA/E,EAAA,UAAAA,EAAA,gBAAsEyE,YAAA,aAAuBR,EAAAc,GAAA,iBAAAd,EAAAc,GAAA,KAAA/E,EAAA,eAAAA,EAAA,gBAA2EE,OAAO0G,UAAA,GAAAC,MAAA,UAAAC,KAAA,2BAAkE1B,IAAK2B,MAAA,SAAAzB,GAAyB,gBAAAA,IAAArB,EAAA+C,GAAA1B,EAAA2B,QAAA,WAAA3B,EAAAG,IAAA,SAAgF,YAAexB,EAAAiD,SAAAjD,EAAAkD,UAA0Bb,OAAQrE,MAAAgC,EAAA,OAAAsC,SAAA,SAAAC,GAA4CvC,EAAAkD,OAAAX,GAAeE,WAAA,aAAsB,GAAAzC,EAAAc,GAAA,KAAA/E,EAAA,kBAAAA,EAAA,YAAAiE,EAAAc,GAAA,KAAA/E,EAAA,SAA8EE,OAAOwF,MAAA,QAAA0B,KAAA,IAA0BC,UAAWhC,MAAA,SAAAC,GAAyBrB,EAAAqD,iBAAmBrD,EAAAc,GAAA,YAAAd,EAAAc,GAAA,KAAA/E,EAAA,SAA6CE,OAAOwF,MAAA,WAAkB2B,UAAWhC,MAAA,SAAAC,GAAyBrB,EAAAiD,SAAAjD,EAAAkD,YAA2BlD,EAAAc,GAAA,sBAAAd,EAAAc,GAAA,KAAA/E,EAAA,YAA0DE,OAAOkG,WAAA,GAAAC,YAAA,SAAoCC,OAAQrE,MAAAgC,EAAA,aAAAsC,SAAA,SAAAC,GAAkDvC,EAAAsD,aAAAf,GAAqBE,WAAA,kBAA4B1G,EAAA,SAAcE,OAAOyG,KAAA,YAAAjB,MAAA,WAAqCiB,KAAA,cAAkB1C,EAAAc,GAAA,mBAAAd,EAAAc,GAAA,KAAA/E,EAAA,UAAAA,EAAA,gBAAAA,EAAA,QAAmFyE,YAAA,aAAuBR,EAAAc,GAAA,qBAAAd,EAAAc,GAAA,KAAA/E,EAAA,eAAAA,EAAA,eAA8EE,OAAOsH,eAAA,MAAmBxH,EAAA,YAAiBE,OAAOoE,KAAA,MAAWtE,EAAA,UAAeE,OAAOsE,KAAA,MAAWxE,EAAA,gBAAqBE,OAAO0G,UAAA,GAAAC,MAAA,OAAAY,SAAA,IAA4CrC,IAAK2B,MAAA,SAAAzB,GAAyB,gBAAAA,IAAArB,EAAA+C,GAAA1B,EAAA2B,QAAA,WAAA3B,EAAAG,IAAA,SAAgF,YAAexB,EAAAyD,eAAkBpB,OAAQrE,MAAAgC,EAAA0D,QAAA,KAAApB,SAAA,SAAAC,GAAkDvC,EAAA2D,KAAA3D,EAAA0D,QAAA,OAAAnB,IAAmCE,WAAA,mBAA4B,GAAAzC,EAAAc,GAAA,KAAA/E,EAAA,UAA+BE,OAAOsE,KAAA,MAAWxE,EAAA,gBAAqBE,OAAO2G,MAAA,cAAAgB,aAAA,IAAsCzC,IAAK2B,MAAA,SAAAzB,GAAyB,gBAAAA,IAAArB,EAAA+C,GAAA1B,EAAA2B,QAAA,WAAA3B,EAAAG,IAAA,SAAgF,YAAexB,EAAAyD,eAAkBpB,OAAQrE,MAAAgC,EAAA0D,QAAA,YAAApB,SAAA,SAAAC,GAAyDvC,EAAA2D,KAAA3D,EAAA0D,QAAA,cAAAnB,IAA0CE,WAAA,0BAAmC,GAAAzC,EAAAc,GAAA,KAAA/E,EAAA,UAA+BE,OAAOsE,KAAA,MAAWxE,EAAA,YAAiBE,OAAO2G,MAAA,WAAAY,SAAA,GAAAK,MAAA7D,EAAAF,WAAAgE,YAAA,QAA2EC,YAAA/D,EAAAgE,KAAsBxC,IAAA,OAAAyC,GAAA,SAAAC,GAA6B,OAAAnI,EAAA,sBAAAA,EAAA,UAAAiE,EAAAc,GAAAd,EAAAe,GAAAmD,EAAAC,KAAAhG,UAAA,GAAA6B,EAAAc,GAAA,KAAA/E,EAAA,uBAAAA,EAAA,qBAAiJqI,UAAUC,UAAArE,EAAAe,GAAAmD,EAAAC,KAAApG,UAAoC,QAAQsE,OAAUrE,MAAAgC,EAAA0D,QAAA,SAAApB,SAAA,SAAAC,GAAsDvC,EAAA2D,KAAA3D,EAAA0D,QAAA,WAAAnB,IAAuCE,WAAA,uBAAgC,eAAAzC,EAAAc,GAAA,KAAA/E,EAAA,kBAAAA,EAAA,YAAAiE,EAAAc,GAAA,KAAA/E,EAAA,SAA0FE,OAAOwF,MAAA,QAAA0B,KAAA,IAA0BC,UAAWhC,MAAA,SAAAC,GAAyBrB,EAAAsE,mBAAqBtE,EAAAc,GAAA,YAAAd,EAAAc,GAAA,KAAA/E,EAAA,SAA6CE,OAAOwF,MAAA,WAAkB2B,UAAWhC,MAAA,SAAAC,GAAyBrB,EAAAyD,iBAAmBzD,EAAAc,GAAA,wBAAAd,EAAAc,GAAA,KAAA/E,EAAA,SAAyDE,OAAOwF,MAAA,WAAkBN,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAuE,cAAgBvE,EAAAc,GAAA,iBAAAd,EAAAc,GAAA,KAAA/E,EAAA,UAAmDyE,YAAA,YAAAvE,OAA+BuI,WAAA,MAAezI,EAAA,UAAeE,OAAOsE,KAAA,KAAWP,EAAAuB,GAAAvB,EAAA,mBAAAhB,GAAuC,OAAAgB,EAAAyE,cAAAzF,EAAAQ,SAAAxB,OAAAjC,EAAA,eAAkEyF,IAAAxC,EAAAL,OAAA6B,YAAA,OAAAvE,OAA0CyI,OAAA,MAAa3I,EAAA,sBAAAA,EAAA,UAAAiE,EAAAc,GAAAd,EAAAe,GAAA/B,EAAAQ,SAAArB,UAAA,GAAA6B,EAAAc,GAAA,KAAA/E,EAAA,sBAAAA,EAAA,OAAgIE,OAAOyE,IAAA1B,EAAAJ,MAAAgC,WAAwBZ,EAAAc,GAAA,KAAA/E,EAAA,uBAAAA,EAAA,qBAAAiE,EAAAc,GAAAd,EAAAe,GAAA/B,EAAAH,aAAAmB,EAAAc,GAAA,KAAA/E,EAAA,yBAAAA,EAAA,QAAqJyE,YAAA,SAAmBR,EAAAc,GAAAd,EAAAe,GAAA/B,EAAAJ,MAAAb,SAAAiC,EAAAc,GAAA,MAAAd,EAAAe,GAAA/B,EAAAF,qBAAA,GAAAkB,EAAAc,GAAA,KAAA/E,EAAA,SAA6GE,OAAOwF,MAAA,WAAkBN,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAiD,SAAAjE,EAAAL,YAA4BqB,EAAAc,GAAA,cAAAd,EAAA2E,SAAgC,eAAA3E,EAAAc,GAAA,KAAA/E,EAAA,cAAgDE,OAAOwF,MAAA,SAAgBY,OAAQrE,MAAAgC,EAAA,SAAAsC,SAAA,SAAAC,GAA8CvC,EAAA4E,SAAArC,GAAiBE,WAAA,cAAwBzC,EAAAc,GAAA,WAAAd,EAAAe,GAAAf,EAAAX,SAAA,YAAAtD,EAAA,SAAgEE,OAAOyF,KAAA,GAAAyB,KAAA,IAAoBC,UAAWhC,MAAA,SAAAC,GAAyBrB,EAAA4E,UAAA,MAAuB7I,EAAA,UAAAiE,EAAAc,GAAA,wBAE3rN3E,oBCCjB,IAuBA0I,EAvBAvJ,EAAA,OAcAwJ,CACAzG,EACA0B,GATA,EAVA,SAAAzD,GACAhB,EAAA,SAaA,kBAEA,MAUA,QC1BAyJ,GACEhH,KAAM,QACNmG,KAAM,kBACJc,OAAQ,KACRC,WAAW,EACXC,cAAe,UACfC,kBAAmB,EACnBC,aAAc,UAEhBC,QAAS,WAAY,IAAAlG,EAAAtD,KACf8E,EAAO2E,KAAKC,MAAMC,aAAaC,QAAQ,SACvCC,0DAA8D7J,KAAK8J,OAAOC,OAAOC,OAAjF,SAAgGlF,EAAKK,SAArG,OAAoHL,EAAKzE,GAE7HL,KAAKmJ,OAASc,GAAGJ,GAiDrB,SAA0BK,EAAQxH,GAChC,IAKIyH,EAEAC,EACAC,EARAC,EAAQ5H,EAAM4H,MACdnB,EAASzG,EAAMyG,OACfoB,EAAO7H,EAAM6H,KAEbC,GAAY,EAMZC,GAAW,EAEXC,KAqDJ,SAASC,IACPxB,EAAO7D,GAAG,YAAa,SAAC+C,GACtBkC,EAAKK,KAAK,aAAcvC,KAE1Bc,EAAO7D,GAAG,mBAAoB,SAAC+C,GAC7BkC,EAAKK,KAAK,oBAAqBvC,KAEjCc,EAAO7D,GAAG,QAAS,WACjB5C,EAAM0G,WAAY,EAClB1G,EAAMmI,WACNnI,EAAMoI,mBAAkB,KAE1B3B,EAAO7D,GAAG,OAAQ,SAAU+C,IAiH9B,SAA8BA,GAC5B,OAAQA,EAAK0C,MACX,IAAK,OACHC,QAAQC,IAAI5C,EAAKzC,OACjBsF,EAAS7C,EAAKzC,MAAOyC,EAAK8C,UAAW9C,EAAK+C,MAAO/C,EAAKgD,OAAOC,EAAGjD,EAAKgD,OAAOE,GAC5E,MACF,IAAK,OACHC,EAASnD,EAAKzC,MAAOyC,EAAK8C,UACxB9C,EAAKgD,OAAOI,MAAMH,EAAGjD,EAAKgD,OAAOI,MAAMF,EACvClD,EAAKgD,OAAOK,IAAIJ,EAAGjD,EAAKgD,OAAOK,IAAIH,IAzHvCI,CAAoBtD,KAEtBc,EAAO7D,GAAG,QAAS,WACjBsG,MAEFzC,EAAO7D,GAAG,cAAe,SAAU+C,GACjCiC,GACEuB,MAAO,gBACPC,aAAczD,EAAK0D,KAAnB,0BACAhB,KAAM,WACNiB,kBAAkB,EAClBC,mBAAoB,UACpBC,kBAAmB,UACnBC,kBAAmB,eACnBC,iBAAkB,mBACjBzJ,KAAK,SAACC,GACHA,EAAOT,OACTmI,GACEuB,MAAO,WACPC,KAAM,0BACNf,KAAM,UACNkB,mBAAoB,YAEtBvJ,EAAM0G,WAAY,EAClB1G,EAAMoI,mBAAkB,GACxB3B,EAAOyB,KAAK,kBAAmByB,QAAQ,EAAMC,SAAUjE,EAAKiE,aAE5DhC,GACEuB,MAAO,cACPC,KAAM,2BACNf,KAAM,QACNkB,mBAAoB,YAEtB9C,EAAOyB,KAAK,kBAAmByB,QAAQ,EAAOC,SAAUjE,EAAKiE,gBAInEnD,EAAO7D,GAAG,iBAAkB,SAAU+C,GAChCA,GACFiC,GACEuB,MAAO,qBACPC,KAAM,4BACNf,KAAM,UACNkB,mBAAoB,YAEtBvJ,EAAMoI,mBAAkB,GACxBpI,EAAM0G,WAAY,IAElBkB,GACEuB,MAAO,oBACPC,KAAM,8BACNf,KAAM,QACNkB,mBAAoB,YAEtBvJ,EAAMoI,mBAAkB,GACxBpI,EAAM0G,WAAY,KAGtBD,EAAO7D,GAAG,aAAc,SAAU+C,GAChC3F,EAAMoI,mBAAkB,GACxBpI,EAAM0G,WAAY,EAClBkB,GACEuB,MAAO,wBACPC,KAAM,8BACNf,KAAM,UACNkB,mBAAoB,cAGxB9C,EAAO7D,GAAG,iBAAkB,WAC1B5C,EAAMoI,mBAAkB,GACxBpI,EAAM0G,WAAY,EAClBkB,GACEuB,MAAO,sBACPC,KAAM,yBACNf,KAAM,QACNkB,mBAAoB,cAGxB9C,EAAO7D,GAAG,WAAY,WACpBgF,GACEuB,MAAO,gBACPC,KAAM,iEACNf,KAAM,OACNkB,mBAAoB,UACpBE,kBAAmB,oBAClBxJ,KAAK,SAACC,GACPF,EAAM6J,QAAQC,KAAK,YAIvB9J,EAAM6H,KAAKjF,GAAG,cAAe,WAC3BsG,MAIJ,SAASa,IACP,OAAO/J,EAAM6G,aAOf,SAASmD,IACPrC,EAAQsC,aAAaxC,EAAU,EAAG,GAGpC,SAASyB,IACPvB,EAAQuC,UAAY,UACpBvC,EAAQwC,SAAS,EAAG,EAAGzC,EAAO0C,MAAO1C,EAAO2C,QAiB9C,SAASC,EAAe5B,EAAOC,GAC7BlC,EAAOyB,KAAK,QAAUG,KAAM,OAAQK,MAAOA,EAAOC,OAAQA,EAAQzF,MAAOlD,EAAM2G,cAAe8B,UAAWzI,EAAM4G,oBAOjH,SAAS2D,EAAgB7B,EAAOC,GAC9BlC,EAAOyB,KAAK,QAAUG,KAAM,OAAQK,MAAOA,EAAOC,OAAQA,EAAQzF,MAAO,UAAWuF,UAAWzI,EAAM4G,oBAGvG,SAAS4D,EAAmBC,GAC1B1C,GAAW,EACmB,WAA1BW,MAAMgC,OAAOC,UACfF,EAAEG,iBAGJ,IAAIC,EAASJ,EAAEK,eAAe,GAAGC,QAAUrD,EAAOsD,WAC9CC,EAASR,EAAEK,eAAe,GAAGI,QAAUxD,EAAOyD,UAC7CrD,GACHsD,EAAQP,EAAQI,GAIpB,SAASI,EAAmBZ,GAC1B1C,GAAW,EACX0C,EAAEG,iBACF,IAAIC,EAASJ,EAAEK,eAAe,GAAGC,QAAUrD,EAAOsD,WAC9CC,EAASR,EAAEK,eAAe,GAAGI,QAAUxD,EAAOyD,UAClDG,EAAQT,EAAQI,GAGlB,SAASM,EAAiBd,GACxB1C,GAAW,EACX0C,EAAEG,iBACF,IAAIC,EAASJ,EAAEK,eAAe,GAAGC,QAAUrD,EAAOsD,WAC9CC,EAASR,EAAEK,eAAe,GAAGI,QAAUxD,EAAOyD,UAClDK,EAAMX,EAAQI,GAGhB,SAASQ,EAAqBhB,GAC5B,IAAI1C,EAAJ,CAIA,IAAIW,EAAQ+B,GAAKiB,OAAOhD,MAEpBiD,EAAUjD,EAAMqC,QAAUrD,EAAO0C,MAAS1C,EAAOkE,YACjDC,EAAUnD,EAAMwC,QAAUxD,EAAO2C,OAAU3C,EAAOoE,aAItD,GAFAV,EAAQO,EAAQE,IAEZnD,EAAMkC,eAKR,OAAO,EAJuB,WAA1BlC,EAAMgC,OAAOC,UACfjC,EAAMkC,kBAOZ,SAASmB,EAAqBtB,GAC5B,IAAI1C,EAAJ,CAGA,IAAIW,EAAQ+B,GAAKiB,OAAOhD,MACpBiD,EAAUjD,EAAMqC,QAAUrD,EAAO0C,MAAS1C,EAAOkE,YACjDC,EAAUnD,EAAMwC,QAAUxD,EAAO2C,OAAU3C,EAAOoE,aAItD,GAFAR,EAAQK,EAAQE,IAEZnD,EAAMkC,eAGR,OAAO,EAFPlC,EAAMkC,kBAMV,SAASoB,EAAmBvB,GAC1B,IAAI1C,EAAJ,CAGA,IAAIW,EAAQ+B,GAAKiB,OAAOhD,MACpBiD,EAAUjD,EAAMqC,QAAUrD,EAAO0C,MAAS1C,EAAOkE,YACjDC,EAAUnD,EAAMwC,QAAUxD,EAAO2C,OAAU3C,EAAOoE,aAEtDN,EAAMG,EAAQE,IAGhB,SAAST,EAASxC,EAAGC,GACnB,GAAI7I,EAAM0G,UAKR,OAJAoB,GAAY,EACZE,EAASY,EAAIA,EACbZ,EAASa,EAAIA,EAELkB,KACN,IAAK,QACHvB,EAASxI,EAAM2G,cAAe3G,EAAM4G,kBAAmB,QAASgC,EAAGC,GACnEyB,EAAc,QAAStC,GACvB,MACF,IAAK,OA/HTP,EAAWE,EAAQsE,aAAa,EAAG,EAAGvE,EAAO0C,MAAO1C,EAAO2C,QAiIrD,MACF,IAAK,SACH7B,EAAS,UAAWxI,EAAM4G,kBAAmB,QAASgC,EAAGC,GACzD0B,EAAe,QAASvC,IAMhC,SAASsD,EAAS1C,EAAGC,GACnB,GAAIf,GAAa9H,EAAM0G,UACrB,OAAQqD,KACN,IAAK,QACHvB,EAASxI,EAAM2G,cAAe3G,EAAM4G,kBAAmB,OAAQgC,EAAGC,GAClEyB,EAAc,QAAU1B,EAAGA,EAAGC,EAAGA,IACjC,MACF,IAAK,OACHmB,IACAlB,EAAS9I,EAAM2G,cAAe3G,EAAM4G,kBAAmBoB,EAASY,EAAGZ,EAASa,EAAGD,EAAGC,GAClF,MACF,IAAK,SACHL,EAAS,UAAWxI,EAAM4G,kBAAmB,OAAQgC,EAAGC,GACxD0B,EAAe,QAAU3B,EAAGA,EAAGC,EAAGA,KAM1C,SAAS2C,EAAO5C,EAAGC,GACjB,GAAIf,GAAa9H,EAAM0G,UACrB,OAAQqD,KACN,IAAK,QACHvB,EAASxI,EAAM2G,cAAe3G,EAAM4G,kBAAmB,MAAOgC,EAAGC,GACjEyB,EAAc,OAAS1B,EAAGA,EAAGC,EAAGA,IAChC,MACF,IAAK,OACHmB,IACAlB,EAAS9I,EAAM2G,cAAe3G,EAAM4G,kBAAmBoB,EAASY,EAAGZ,EAASa,EAAGD,EAAGC,GAxIlEF,GAyIAI,OAASH,EAAGZ,EAASY,EAAGC,EAAGb,EAASa,GAAKG,KAAOJ,EAAGA,EAAGC,EAAGA,IAxI/EpC,EAAOyB,KAAK,QAAUG,KAAM,OAAQnF,MAAOlD,EAAM2G,cAAe8B,UAAWzI,EAAM4G,kBAAmB+B,OAAQA,IAyItG,MACF,IAAK,SACHH,EAAS,UAAWxI,EAAM4G,kBAAmB,MAAOgC,EAAGC,GACvD0B,EAAe,OAAS3B,EAAGA,EAAGC,EAAGA,IA7IzC,IAAwBF,EAiJtBb,GAAY,EAGd,SAASgB,EAAU5F,EAAOuF,EAAWyD,EAAIC,EAAIC,EAAIC,GAC/C1E,EAAQ2E,YAAcpJ,EACtByE,EAAQ4E,UAAY9D,EAEpBd,EAAQ6E,YACR7E,EAAQ8E,OAAOP,EAAIC,GACnBxE,EAAQ+E,OAAON,EAAIC,GACnB1E,EAAQgF,SACRhF,EAAQiF,YAGV,SAASpE,EAAUtF,EAAOuF,EAAWJ,EAAMO,EAAGC,GAG5C,OAFAlB,EAAQ2E,YAAcpJ,EACtByE,EAAQ4E,UAAY9D,EACZJ,GACN,IAAK,QACHV,EAAQ6E,YACR7E,EAAQ8E,OAAO7D,EAAGC,GAClB,MACF,IAAK,OACHlB,EAAQ+E,OAAO9D,EAAGC,GAClBlB,EAAQgF,SACR,MACF,IAAK,MACHhF,EAAQiF,aA3WZ3E,IA0BAJ,EAAKjF,GAAG,eAAgB5C,EAAM6M,YAC9BhF,EAAKjF,GAAG,mBAAoB5C,EAAM8M,gBAClCjF,EAAKjF,GAAG,eAAgB,SAAC+C,GACvB3F,EAAM2G,cAAgBhB,EACtB3F,EAAM+M,iBAERlF,EAAKjF,GAAG,mBAAoB,SAAC+C,GAC3B3F,EAAM4G,kBAAoBjB,EAAKlG,MAC/BO,EAAM+M,iBAERlF,EAAKjF,GAAG,cAAe,SAAC+C,GACtB3F,EAAM6G,aAAelB,EACrB3F,EAAM+M,iBAERlF,EAAKjF,GAAG,cAAe,WACrB5C,EAAMkJ,eAERrB,EAAKjF,GAAG,oBAAqB,WAC3B6D,EAAOuG,gBArCTtF,EAASuF,SAASC,eAAe,UAE1B9C,MAAQ,KACf1C,EAAO2C,OAAS,KAEhB1C,EAAUD,EAAOyF,WAAW,OACpBC,QAAU,QAIlB1F,EAAO2F,YAAc5B,EACrBwB,SAASK,YAAcvB,EACvBkB,SAASM,UAAYvB,EACrBiB,SAASO,aAAehD,EACxByC,SAASQ,YAAcpC,EACvB4B,SAASS,WAAanC,EAxFtBoC,CAAgBrQ,KAAK8J,OAAOC,OAAOC,OAAQhK,MAC3CoO,OAAOkC,WAAW,kBAAMhN,EAAKmM,gBAAgB,KAE/Cc,SACEhB,WADO,WAELvP,KAAKmJ,OAAOyB,KAAK,gBAEnB4E,eAJO,WAKLxP,KAAKmJ,OAAOyB,KAAK,eAEnB6E,aAPO,WAQL,OAAQzP,KAAKuJ,cACX,IAAK,QAOL,IAAK,OACHiH,EAAE,UAAUC,cAAc,UACxB7K,MAAO5F,KAAKqJ,cACZzE,KAAM5E,KAAKsJ,kBACXoH,QAAS,WAEX,MACF,IAAK,SACHF,EAAE,UAAUC,cAAc,eACxB7K,MAAO,UACPhB,KAAM5E,KAAKsJ,kBACXoH,QAAS,aAKjB7F,SAhCO,WAiCLG,QAAQC,IAAI,aACZjL,KAAKuK,KAAKK,KAAK,cAEjBE,kBApCO,SAoCY3I,GACjBnC,KAAKuK,KAAKK,KAAK,qBAAsBzI,IAEvCyJ,WAvCO,WAwCL5L,KAAKmJ,OAAOyB,KAAK,YCzDvB,IAGA+F,GADiB7Q,OAFjB,WAA0BE,KAAaC,eAAbD,KAAuCG,MAAAD,GAAwB,OAA/DF,KAA+D4Q,GAAA,IAExEtQ,iBADjB,WAAoC,IAAaP,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiByE,YAAA,oBAA8BzE,EAAA,UAAeE,OAAOC,GAAA,QAAA0M,OAAA,MAAAD,MAAA,eCExK,IAsBA+D,EAtBApR,EAAA,OAaAqR,CACA5H,EACAyH,GATA,EATA,SAAAlQ,GACAhB,EAAA,SAYA,kBAEA,MAUA,QC+EAsR,QAEA,sCAEA,OACA,SACA,aACA,gBACA,4BACA,mBACA,eACA9O,cACAG,QACAC,uCAEA,kBAGA,2BACA,IAAAK,EAAA1C,kDAEA,mFAGAqI,eACAA,uDAKA,0CAGA,gCACA,sDAGA,0DAGA,2EAGAzC,sBACAA,8CAGAtD,oCACAH,sEAGAgJ,4BACAjJ,2CAGA,kBC5JA8O,GADiBlR,OAFjB,WAA0B,IAAAqE,EAAAnE,KAAaD,EAAAoE,EAAAlE,eAA0BC,EAAAiE,EAAAhE,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,eAAyByE,YAAA,oBAAAvE,OAAuC+F,MAAA,GAAAuB,eAAA,GAAAjD,iBAAA,MAAkDvE,EAAA,YAAiBE,OAAOmE,IAAA,GAAA6B,cAAA,GAAA6K,eAAA,MAA6C/Q,EAAA,UAAeE,OAAO8Q,IAAA,GAAAC,gBAAA,MAA6BjR,EAAA,MAAWyE,YAAA,sBAAgCR,EAAAc,GAAAd,EAAAe,GAAAf,EAAAhB,KAAAH,aAAAmB,EAAAc,GAAA,KAAA/E,EAAA,QAA6DyE,YAAA,sBAAgCR,EAAAc,GAAA,YAAAd,EAAAe,GAAAf,EAAAhB,KAAAL,aAAAqB,EAAAc,GAAA,KAAA/E,EAAA,YAAAiE,EAAAc,GAAA,KAAA/E,EAAA,OAAmGyE,YAAA,oBAA8BR,EAAAc,GAAA,KAAAd,EAAA,MAAAjE,EAAA,UAAuCE,OAAOgR,IAAA,MAAUlR,EAAA,aAAkBE,OAAOiR,IAAA,MAAUnR,EAAA,SAAcyE,YAAA,eAAAvE,OAAkCyG,KAAA,YAAAyK,MAAA,GAAAC,SAAApN,EAAAiF,UAAAoI,QAAA,GAAAC,IAAA,GAAA7L,MAAA,WAA+FN,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAqL,mBAAsB3I,KAAA,cAAkB3G,EAAA,UAAAiE,EAAAc,GAAA,yBAAAd,EAAAc,GAAA,KAAA/E,EAAA,QAAAiE,EAAAc,GAAA,8BAAA/E,EAAA,UAAwHE,OAAOgR,IAAA,MAAUlR,EAAA,aAAkBE,OAAOiR,IAAA,MAAUnR,EAAA,SAAcyE,YAAA,eAAAvE,OAAkCyG,KAAA,YAAAyK,MAAA,GAAAC,SAAApN,EAAAiF,UAAAoI,QAAA,GAAAC,IAAA,GAAA7L,MAAA,WAA+FN,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAuN,gBAAmB7K,KAAA,cAAkB3G,EAAA,UAAAiE,EAAAc,GAAA,gBAAAd,EAAAc,GAAA,KAAA/E,EAAA,QAAAiE,EAAAc,GAAA,2BAAAd,EAAAc,GAAA,KAAA/E,EAAA,UAAwHE,OAAOgR,IAAA,MAAUlR,EAAA,UAAeE,OAAOuR,WAAA,GAAAC,aAAA,MAAAC,YAAA,KAAAR,IAAA,MAA4DnR,EAAA,aAAkBE,OAAOyG,KAAA,YAAAwK,IAAA,IAA4BxK,KAAA,cAAkB3G,EAAA,SAAcyE,YAAA,eAAAmN,OAAmCC,gBAAA5N,EAAAkF,eAAoCjJ,OAASyG,KAAA,YAAAyK,MAAA,GAAAzL,KAAA,GAAA4L,IAAA,IAAiD5K,KAAA,cAAkB3G,EAAA,UAAAiE,EAAAc,GAAA,iBAAAd,EAAAc,GAAA,KAAA/E,EAAA,QAAAiE,EAAAc,GAAA,sBAAAd,EAAAc,GAAA,KAAA/E,EAAA,eAAyHE,OAAOC,GAAA,kBAAA2R,eAAA,MAA0C9R,EAAA,YAAiBE,OAAOmE,IAAA,GAAAC,KAAA,KAAoBL,EAAAuB,GAAAvB,EAAA,gBAAAyB,GAAqC,OAAA1F,EAAA,UAAoByF,IAAAC,EAAAzD,MAAA/B,OAAuB8Q,IAAA,MAAUhR,EAAA,aAAkBE,OAAOiR,IAAA,MAAUnR,EAAA,SAAc4R,OAAQC,gBAAAnM,EAAAzD,OAA8B/B,OAASyG,KAAA,YAAA4K,IAAA,GAAA5L,KAAA,GAAAyL,MAAA,IAAiDhM,IAAKC,MAAA,SAAAC,GAAyBrB,EAAA8N,YAAArM,EAAAzD,SAA8B0E,KAAA,cAAkB1C,EAAAc,GAAA,KAAA/E,EAAA,QAAAiE,EAAAc,GAAAd,EAAAe,GAAAU,EAAA1D,UAAA,WAA8D,WAAAiC,EAAAc,GAAA,KAAA/E,EAAA,UAAwCE,OAAOgR,IAAA,MAAUlR,EAAA,UAAeE,OAAOuR,WAAA,GAAAN,IAAA,GAAAO,aAAA,KAAAC,YAAA,QAA2D3R,EAAA,aAAkBE,OAAOyG,KAAA,YAAAwK,IAAA,IAA4BxK,KAAA,cAAkB3G,EAAA,SAAcyE,YAAA,eAAAvE,OAAkCyG,KAAA,YAAAyK,MAAA,GAAAE,QAAA,GAAAC,IAAA,GAAA7L,MAAA,WAAsEiB,KAAA,cAAkB3G,EAAA,UAAAiE,EAAAc,GAAAd,EAAAe,GAAAf,EAAAoF,kBAAA,GAAApF,EAAAc,GAAA,KAAA/E,EAAA,QAAAiE,EAAAc,GAAA,qBAAAd,EAAAc,GAAA,KAAA/E,EAAA,SAAAiE,EAAAuB,GAAAvB,EAAA,eAAAmE,GAAmK,OAAApI,EAAA,eAAyByF,IAAA2C,EAAAnG,MAAAmD,IAAmBC,MAAA,SAAAC,GAAyBrB,EAAA+N,WAAA5J,OAAuBpI,EAAA,sBAAAA,EAAA,UAAAiE,EAAAc,GAAAd,EAAAe,GAAAoD,EAAAhG,UAAA,GAAA6B,EAAAc,GAAA,KAAA/E,EAAA,qBAAAiE,EAAAc,GAAAd,EAAAe,GAAAoD,EAAApG,UAAA,OAA4I,OAAAiC,EAAAc,GAAA,KAAA/E,EAAA,UAAoCE,OAAOgR,IAAA,MAAUlR,EAAA,UAAeE,OAAOuR,WAAA,GAAAN,IAAA,GAAAO,aAAA,KAAAC,YAAA,QAA2D3R,EAAA,aAAkBE,OAAOyG,KAAA,YAAAwK,IAAA,IAA4BxK,KAAA,cAAkB3G,EAAA,SAAcyE,YAAA,eAAAvE,OAAkCyG,KAAA,YAAAyK,MAAA,GAAAE,QAAA,GAAAC,IAAA,GAAA7L,MAAA,WAAsEN,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAgO,oBAAuBtL,KAAA,cAAkB3G,EAAA,UAAe4R,OAAQM,SAAAjO,EAAAmF,qBAAkCnF,EAAAc,GAAA,cAAAd,EAAAc,GAAA,KAAA/E,EAAA,QAAAiE,EAAAc,GAAA,0BAAAd,EAAAc,GAAA,KAAA/E,EAAA,eAA6GE,OAAOC,GAAA,sBAAA2R,eAAA,MAA8C9R,EAAA,YAAiBE,OAAOmE,IAAA,GAAAC,KAAA,KAAoBL,EAAAuB,GAAAvB,EAAA,qBAAAkO,GAA2C,OAAAnS,EAAA,UAAoByF,IAAA0M,EAAAlQ,MAAA/B,OAAwBkS,IAAA,MAAUpS,EAAA,SAAc4R,OAAQhF,MAAAuF,EAAAnQ,KAAA6K,OAAAsF,EAAAnQ,KAAA6P,gBAAA5N,EAAAkF,eAA4EjJ,OAASqR,IAAA,GAAA5L,KAAA,IAAmBP,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAgO,gBAAAE,QAA8B,OAAM,WAAAlO,EAAAc,GAAA,KAAA/E,EAAA,UAAwCE,OAAOgR,IAAA,MAAUlR,EAAA,aAAkBE,OAAOiR,IAAA,MAAUnR,EAAA,SAAcyE,YAAA,eAAAvE,OAAkCyG,KAAA,YAAAyK,MAAA,GAAAC,UAAApN,EAAAiF,UAAAoI,QAAA,GAAAC,IAAA,GAAA7L,MAAA,WAAgGN,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAyH,eAAkB/E,KAAA,cAAkB3G,EAAA,UAAAiE,EAAAc,GAAA,gBAAAd,EAAAc,GAAA,KAAA/E,EAAA,QAAAiE,EAAAc,GAAA,yBAAAd,EAAAc,GAAA,KAAA/E,EAAA,OAAmHyE,YAAA,oBAA8BR,EAAAc,GAAA,KAAA/E,EAAA,UAA2BE,OAAOgR,IAAA,MAAUlR,EAAA,aAAkBE,OAAOiR,IAAA,MAAUnR,EAAA,SAAcyE,YAAA,eAAAvE,OAAkCyG,KAAA,YAAAyK,MAAA,GAAAE,QAAA,GAAAC,IAAA,GAAA7L,MAAA,SAAoEN,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAoO,gBAAmB1L,KAAA,cAAkB3G,EAAA,UAAAiE,EAAAc,GAAA,kBAAAd,EAAAc,GAAA,KAAA/E,EAAA,QAAAiE,EAAAc,GAAA,kCAEplJ3E,oBCCjB,IAuBAkS,EAvBA/S,EAAA,OAcAgT,CACA1B,EACAC,GATA,EAVA,SAAAvQ,GACAhB,EAAA,SAaA,kBAEA,MAUA,8DCoBAiT,QAEA,yCAEA,sBAEAC,oDACA,4BAEA,YAEA,WAEA,OAEA,mCACA,IAAAjQ,EAAA1C,oCACAgK,wBACAE,sCACA,yCACA,wCACA,gCACA,6DAEA,sCACA,6BACA,oBACA,OACA,uBACA0I,4CACA,4CACA,4BAEA3R,qBAGAiJ,UAJAvH,KAAA,SAAAC,gCAMAiQ,oBACAxK,yCAIAmE,KAAA9J,EAAAoQ,QAAAC,aAEA5R,kBAGA6R,WAJArQ,KAAA,SAAAC,+BAMAmC,sCAEA1B,oFAOAG,qBACAwP,gBAEAC,gBAEAC,oCAGA7P,UAEA8P,oFAKA,2BACAjJ,cACA,2BACA7J,gBAEA+S,8BACA,mEAEA,iCACA,SACA,+EAGAC,sCAEA,IAAA/P,EAAAtD,2FACAgK,6CAGAH,6CAEA,wDAEA,sBACAK,sBAEA/E,wDAIA,2FAIAkD,sDAGAlH,kBAGA6R,WAJArQ,KAAA,SAAAC,8BAOAY,kBACAwP,mCAEAjO,wCAEA1B,mCAGAgF,sHAQA,MACA,yBAIAiL,EAAA,aAEAA,EAAA,QCvLAC,IADiBzT,OAFjB,WAA0B,IAAAqE,EAAAnE,KAAaD,EAAAoE,EAAAlE,eAA0BC,EAAAiE,EAAAhE,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,eAAyByE,YAAA,mBAA6BzE,EAAA,OAAYE,OAAOC,GAAA,cAAiBH,EAAA,MAAWyE,YAAA,gBAA2BR,EAAAuB,GAAAvB,EAAA,kBAAAX,EAAAgQ,GAA+C,OAAAtT,EAAA,MAAgByF,IAAA6N,EAAA7O,YAAA,UAAA8O,OAAuCC,KAAAlQ,EAAAwP,SAAA7O,EAAAW,KAAAzE,GAAAsT,MAAAnQ,EAAAwP,SAAA7O,EAAAW,KAAAzE,MAA6EmD,EAAAwP,SAAA7O,EAAAW,KAAAzE,GAAAH,EAAA,OAA6CyE,YAAA,gBAA0BzE,EAAA,OAAYE,OAAOyE,IAAArB,EAAAuB,WAAqBZ,EAAA2E,KAAA3E,EAAAc,GAAA,KAAA/E,EAAA,OAAmCyE,YAAA,eAAAqB,aAAwC4N,YAAA,aAAArN,YAAA,MAAAsN,aAAA,UAAgE1P,EAAAc,GAAA,eAAAd,EAAAe,GAAA1B,WAAA,gBAAAW,EAAAc,GAAA,KAAAzB,EAAAwP,SAAA7O,EAAAW,KAAAzE,GAAAH,EAAA,OAAuHyE,YAAA,gBAA0BzE,EAAA,OAAYE,OAAOyE,IAAArB,EAAAuB,WAAqBZ,EAAA2E,YAAe3E,EAAAc,GAAA,KAAA/E,EAAA,eAAmCE,OAAOC,GAAA,qBAAwBH,EAAA,YAAiBE,OAAOmE,IAAA,MAAUrE,EAAA,UAAeE,OAAOgR,IAAA,MAAUlR,EAAA,UAAeE,OAAOuR,WAAA,GAAAN,IAAA,GAAAyC,0BAAA,KAAuD5T,EAAA,SAAc8F,aAAa+N,OAAA,IAAAC,UAAA,KAA2B5T,OAAQyG,KAAA,YAAAS,KAAA,GAAAhF,KAAA,GAAAsD,MAAA,SAAuDiB,KAAA,cAAkB3G,EAAA,UAAAiE,EAAAc,GAAA,4BAAAd,EAAAc,GAAA,KAAA/E,EAAA,eAAgF8F,aAAaiO,mBAAA,UAA2B/T,EAAA,UAAeoF,IAAIC,MAAA,SAAA2O,EAAA9I,GAAiC,OAAAjH,EAAAgQ,SAAAD,QAAgC,WAAA/P,EAAAc,GAAA,KAAA/E,EAAA,OAAoC8F,aAAaoO,SAAA,WAAAtH,MAAA,OAAAC,OAAA,OAAAsH,OAAA,IAAAC,KAAA,IAAAL,mBAAA,WAA0G7T,OAAQC,GAAA,2BAA8BH,EAAA,gBAAqB8F,aAAaoO,SAAA,WAAAtH,MAAA,MAAAwH,KAAA,MAAAD,OAAA,MAAAE,gBAAA,QAAuFnU,OAAQC,GAAA,cAAAyG,UAAA,GAAA0N,KAAA,GAAAzM,aAAA,GAAA0M,YAAA,GAAA1N,MAAA,mBAAqGzB,IAAK2B,MAAA,SAAAzB,GAAyB,gBAAAA,IAAArB,EAAA+C,GAAA1B,EAAA2B,QAAA,WAAA3B,EAAAG,IAAA,SAAgF,YAAexB,EAAAuQ,gBAAmBlO,OAAQrE,MAAAgC,EAAA,WAAAsC,SAAA,SAAAC,GAAgDvC,EAAAiP,WAAA1M,GAAmBE,WAAA,iBAA0B,GAAAzC,EAAAc,GAAA,KAAA/E,EAAA,UAA+BE,OAAOgR,IAAA,GAAAuD,cAAA,MAA2BzU,EAAA,SAAc8F,aAAa+N,OAAA,IAAAC,UAAA,KAA2B5T,OAAQkH,KAAA,GAAAhF,KAAA,GAAAsD,MAAA,SAAoCN,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAuQ,kBAAoBxU,EAAA,UAAAiE,EAAAc,GAAA,+BAEltE3E,oBCCjB,ICHAsU,IACE1S,KAAM,YACNmG,KAAM,kBACJwM,UACAC,KAAK,EACLC,KAAK,EACLC,YAEFxL,QAAS,WAAY,IAAA9G,EAAA1C,KAEfgV,EAAS,IAAIC,cACfC,aAAc,aACdC,eAAgB,GAChBC,kBAAkB,EAClBC,IAAK,4DAGPrV,KAAKuK,KAAKjF,GAAG,oBAAqB,WAChC0P,EAAOM,iBACPN,EAAOO,cAGTP,EAAO1P,GAAG,cAAe,WAEvB0P,EAAO5N,SAAS,UAGlB4N,EAAO1P,GAAG,aAAc,SAACkQ,EAAOC,GAC9BzK,QAAQC,IAAIwK,GACZ/S,EAAKmS,OAAOrI,KAAKwI,EAAOU,SAASD,IACjCrH,OAAOkC,WAAW,WAChB,IAAIqF,EAAYhG,SAASC,eAAeoF,EAAOU,SAASD,IACpDG,EAAUjG,SAASkG,cAAc,OACrCD,EAAQvV,GAAR,WAAwBoV,EAAKpV,GAC7BuV,EAAQE,UAAUC,KAAK,YACvBH,EAAQpN,UAAR,sEACAmN,EAAUK,YAAYR,GACtBG,EAAUK,YAAYJ,GAEtBJ,EAAMS,cAAgB,WAAc,OAAO,GAC3CT,EAAMU,QAAU,WACd,IAAIN,EAAUjG,SAASC,eAAT,WAAmC6F,EAAKpV,IACjC,IAAjBmV,EAAMW,QACRX,EAAMW,OAAS,EACfP,EAAQpN,UAAR,sEACAoN,EAAQE,UAAUM,QAAQ,oBAE1BZ,EAAMW,OAAS,EACfP,EAAQpN,UAAR,4EACAoN,EAAQE,UAAUC,KAAK,oBAG3BP,EAAMa,aAAe,WACL1G,SAASC,eAAT,WAAmC6F,EAAKpV,IAC9CyV,UAAUC,KAAK,oBAEzBP,EAAMc,aAAe,WACL3G,SAASC,eAAT,WAAmC6F,EAAKpV,IAC9CyV,UAAUM,QAAQ,qBAE3B,OAGLpW,KAAKgV,OAASA,GAEhBzE,SACEgG,QADO,WAELvW,KAAK8U,KAAM,EACX9U,KAAKgV,OAAOwB,OACZxW,KAAKuK,KAAKK,KAAK,aAEjB6L,UANO,WAOLzW,KAAK8U,KAAM,EACX9U,KAAKgV,OAAO0B,SACZ1W,KAAKuK,KAAKK,KAAK,eAEjB+L,OAXO,WAYL3W,KAAK+U,KAAM,EACX/U,KAAKgV,OAAO4B,cACZ5W,KAAKuK,KAAKK,KAAK,iBAEjBiM,SAhBO,WAiBL7W,KAAK+U,KAAM,EACX/U,KAAKgV,OAAO8B,aACZ9W,KAAKuK,KAAKK,KAAK,cAEjBmM,SArBO,SAqBG1W,GACR2K,QAAQC,IAAI5K,MCpFlB2W,IADiBlX,OAFjB,WAA0B,IAAAqE,EAAAnE,KAAaD,EAAAoE,EAAAlE,eAA0BC,EAAAiE,EAAAhE,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiByE,YAAA,wBAAkCzE,EAAA,OAAYE,OAAOC,GAAA,qBAAwBH,EAAA,OAAYE,OAAOC,GAAA,yBAA4B8D,EAAA,IAAAjE,EAAA,aAA4BE,OAAOiR,IAAA,MAAUnR,EAAA,SAAcyE,YAAA,eAAAvE,OAAkCyG,KAAA,YAAAyK,MAAA,GAAAE,QAAA,GAAAC,IAAA,GAAA7L,MAAA,WAAsEN,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAoS,YAAe1P,KAAA,cAAkB3G,EAAA,UAAAiE,EAAAc,GAAA,aAAAd,EAAAc,GAAA,KAAA/E,EAAA,QAAAiE,EAAAc,GAAA,8BAAAd,EAAA2E,KAAA3E,EAAAc,GAAA,KAAAd,EAAA2Q,IAAqV3Q,EAAA2E,KAArV5I,EAAA,aAA+IE,OAAOiR,IAAA,MAAUnR,EAAA,SAAcyE,YAAA,eAAAvE,OAAkCyG,KAAA,YAAAyK,MAAA,GAAAE,QAAA,GAAAC,IAAA,GAAA7L,MAAA,SAAoEN,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAsS,cAAiB5P,KAAA,cAAkB3G,EAAA,UAAAiE,EAAAc,GAAA,iBAAAd,EAAAc,GAAA,KAAA/E,EAAA,QAAAiE,EAAAc,GAAA,gCAAAd,EAAAc,GAAA,KAAAd,EAAA,IAAAjE,EAAA,aAAoJE,OAAOiR,IAAA,MAAUnR,EAAA,SAAcyE,YAAA,eAAAvE,OAAkCyG,KAAA,YAAAyK,MAAA,GAAAE,QAAA,GAAAC,IAAA,GAAA7L,MAAA,WAAsEN,IAAKC,MAAA,SAAAC,GAAyBrB,EAAA0S,aAAgBhQ,KAAA,cAAkB3G,EAAA,UAAAiE,EAAAc,GAAA,kBAAAd,EAAAc,GAAA,KAAA/E,EAAA,QAAAiE,EAAAc,GAAA,kBAAAd,EAAA4Q,IAAsT5Q,EAAA2E,KAAtT5I,EAAA,aAAmHE,OAAOiR,IAAA,MAAUnR,EAAA,SAAcyE,YAAA,eAAAvE,OAAkCyG,KAAA,YAAAyK,MAAA,GAAAE,QAAA,GAAAC,IAAA,GAAA7L,MAAA,SAAoEN,IAAKC,MAAA,SAAAC,GAAyBrB,EAAAwS,WAAc9P,KAAA,cAAkB3G,EAAA,UAAAiE,EAAAc,GAAA,sBAAAd,EAAAc,GAAA,KAAA/E,EAAA,QAAAiE,EAAAc,GAAA,sBAAAd,EAAAc,GAAA,KAAA/E,EAAA,SAAiIE,OAAOC,GAAA,kBAAmB8D,EAAAc,GAAA,KAAA/E,EAAA,YAA+BE,OAAOC,GAAA,mBAAA4W,KAAA,GAAAC,QAAA,EAAAC,mBAAA,EAAAC,eAAA,EAAAC,mBAAA,IAAuHlT,EAAAuB,GAAAvB,EAAA,gBAAAqR,GAAqC,OAAAtV,EAAA,SAAmByF,IAAA6P,EAAA7Q,YAAA,cAAAvE,OAA2CC,GAAAmV,SAAc,IAEt0DlV,oBCCjB,ICoBAgX,SAEA,yBAEAzG,UACA2B,OJzBA/S,EAAA,OAcA8X,CACA7E,EACAa,IATA,EAVA,SAAA9S,GACAhB,EAAA,SAaA,kBAEA,MAUA,gBGvBAA,EAAA,OAaA+X,CACA5C,GACAoC,IATA,EATA,SAAAvW,GACAhB,EAAA,SAYA,KAEA,MAUA,6ECSA,iBACA,aACA,SAEA,uBACA,IAAAiD,EAAA1C,+BAEAe,mCAGAiJ,UAJArH,KAAA,SAAAC,iBAMA6U,wCACAzU,qBACA,kCAEAK,2GAIAG,oBACA,wEAKA6E,EAAA,4BACA,qDAIAA,EAAA,8BACA,wBAGA,IAAA/E,EAAAtD,qDAEA,oBACA,sCAGA,IAAAyD,EAAAzD,kCAGA,eACA8L,KAAA,6JACA,4BACA,qBACA,4BACA,4BACA,uBACA,OARAnJ,KAAA,SAAAC,wBAWA,mBACA,gDAEAjB,4BAEAtB,iBAEAyC,UALAH,KAAA,SAAAY,eAOA,WACAmU,oCAEArU,mBAGA,SACA,oCAKAxB,+BAEAxB,oBAEAyC,UALAH,KAAA,SAAAY,eAOA,uBACA,qBACAmU,oCAEArU,OCpHAsU,IADiB7X,OAFjB,WAA0B,IAAAqE,EAAAnE,KAAaD,EAAAoE,EAAAlE,eAA0BC,EAAAiE,EAAAhE,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiByE,YAAA,SAAmBzE,EAAA,SAAcE,OAAOC,GAAA,qBAAwB8D,EAAAc,GAAA,KAAA/E,EAAA,WAA4BE,OAAO+C,KAAAgB,EAAAhB,KAAA9C,GAAA,uBAA0C8D,EAAAc,GAAA,KAAA/E,EAAA,WAA4BE,OAAOC,GAAA,yBAA4B8D,EAAAc,GAAA,KAAA/E,EAAA,QAAyBE,OAAO+C,KAAAgB,EAAAhB,KAAAyU,aAAAzT,EAAAhB,KAAA0U,aAAAxX,GAAA,oBAA4E8D,EAAAc,GAAA,KAAA/E,EAAA,cAA+BE,OAAOwF,MAAA,OAAAyL,IAAA,IAAwB7K,OAAQrE,MAAAgC,EAAA,SAAAsC,SAAA,SAAAC,GAA8CvC,EAAA4E,SAAArC,GAAiBE,WAAA,cAAwBzC,EAAAc,GAAA,SAAAd,EAAAe,GAAAf,EAAAX,SAAA,UAAAtD,EAAA,SAA4DE,OAAOyF,KAAA,GAAAyB,KAAA,IAAoBC,UAAWhC,MAAA,SAAAC,GAAyBrB,EAAA4E,UAAA,MAAuB7I,EAAA,UAAAiE,EAAAc,GAAA,wBAEhsB3E,oBCCjB,IAuBAwX,GAvBArY,EAAA,OAcAsY,CACAT,GACAK,IATA,EAVA,SAAAlX,GACAhB,EAAA,SAaA,kBAEA,MAUA,QC0BAuY,SAEA,sCAEA,QACA,sCAEA,sBADA,SAAAC,gEAGA,kCACA,yCAEA,wBADA,SAAAA,0BAGA,wDACA,YACA,UAEA,qDAEA,IAAAvV,EAAA1C,+DAGAqB,wBAEAwC,oBAEAqU,YALAvV,KAAA,SAAAY,gBAOA4U,uBACA,2CACArT,oBACAd,KAAA,yCAEAX,eACA,OCpFA+U,IADiBtY,OAFjB,WAA0B,IAAAqE,EAAAnE,KAAaD,EAAAoE,EAAAlE,eAA0BC,EAAAiE,EAAAhE,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,SAAmBE,OAAOC,GAAA,gBAAmBH,EAAA,eAAoByE,YAAA,eAAAvE,OAAkCC,GAAA,gBAAmBH,EAAA,OAAYE,OAAOC,GAAA,gBAAmBH,EAAA,OAAYE,OAAOyE,IAAApF,EAAA,QAAAY,GAAA,UAAuD8D,EAAAc,GAAA,KAAA/E,EAAA,eAAAA,EAAA,UAA6CmY,IAAA,OAAAjY,OAAkBkY,kBAAA,IAAqB9R,OAAQrE,MAAAgC,EAAA,MAAAsC,SAAA,SAAAC,GAA2CvC,EAAAoU,MAAA7R,GAAcE,WAAA,WAAqB1G,EAAA,gBAAqBE,OAAO2G,MAAA,mBAAAyR,eAAA,OAAAC,MAAAtU,EAAAuU,WAAA/Q,SAAA,GAAAb,UAAA,IAAqGxB,IAAK2B,MAAA,SAAAzB,GAAyB,iBAAAA,IAAArB,EAAA+C,GAAA1B,EAAA2B,QAAA,WAAA3B,EAAAG,IAAA,SAA+FxB,EAAAwU,OAAAnT,GAAf,OAA0CgB,OAAQrE,MAAAgC,EAAA,MAAAsC,SAAA,SAAAC,GAA2CvC,EAAAN,MAAA6C,GAAcE,WAAA,WAAqBzC,EAAAc,GAAA,KAAA/E,EAAA,gBAAiCE,OAAO2G,MAAA,sBAAA6R,KAAA,wBAAAJ,eAAA,OAAAC,MAAAtU,EAAA0U,cAAAC,cAAA3U,EAAA4U,OAAA,8BAAAC,iBAAA,WAAsM,OAAA7U,EAAA4U,QAAA5U,EAAA4U,QAAqChO,KAAA5G,EAAA4U,OAAA,kBAAApR,SAAA,IAAuDrC,IAAK2B,MAAA,SAAAzB,GAAyB,iBAAAA,IAAArB,EAAA+C,GAAA1B,EAAA2B,QAAA,WAAA3B,EAAAG,IAAA,SAA+FxB,EAAAwU,OAAAnT,GAAf,OAA0CgB,OAAQrE,MAAAgC,EAAA,SAAAsC,SAAA,SAAAC,GAA8CvC,EAAA+T,SAAAxR,GAAiBE,WAAA,cAAwBzC,EAAAc,GAAA,KAAA/E,EAAA,SAA0BE,OAAOqR,IAAA,GAAA5L,KAAA,GAAAxF,GAAA,gBAAuCiF,IAAKC,MAAApB,EAAAwU,UAAoBzY,EAAA,UAAeE,OAAOyF,KAAA,MAAW1B,EAAAc,GAAA,0BAAAd,EAAAc,GAAA,KAAA/E,EAAA,OAAyDE,OAAOC,GAAA,kBAAqBH,EAAA,MAAWE,OAAOC,GAAA,mBAAsB8D,EAAAc,GAAA,oEAAAd,EAAAc,GAAA,KAAA/E,EAAA,OAAmGE,OAAOyE,IAAApF,EAAA,QAAAuF,IAAA,GAAA3E,GAAA,oBAA0E8D,EAAAc,GAAA,KAAA/E,EAAA,cAAiCE,OAAOwF,MAAA,SAAgBY,OAAQrE,MAAAgC,EAAA,SAAAsC,SAAA,SAAAC,GAA8CvC,EAAA4E,SAAArC,GAAiBE,WAAA,cAAwBzC,EAAAc,GAAA,WAAAd,EAAAe,GAAAf,EAAAX,SAAA,YAAAtD,EAAA,SAAgEE,OAAOyF,KAAA,GAAAyB,KAAA,IAAoBC,UAAWhC,MAAA,SAAAC,GAAyBrB,EAAA4E,UAAA,MAAuB7I,EAAA,UAAAiE,EAAAc,GAAA,4BAExmE3E,oBCCjB,IAuBA2Y,GAvBAxZ,EAAA,OAcAyZ,CACAlB,GACAI,IATA,EAVA,SAAA3X,GACAhB,EAAA,SAaA,kBAEA,MAUA,QCfA0Z,SAEA,6CAGA,kBAGAvZ,kFAGA,uBAEA,WAEA,kBACAwZ,eACAtU,0BAEApE,sBAEAqD,eACAD,YAEAD,SANAlB,KAAA,SAAAC,gBAQAyW,yCAEAvV,iBACAC,uCACAe,qCAGAzB,mBACAW,KAAA,kCAGAA,KAAA,eC7CAsV,IADiBxZ,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,SAAmBE,OAAOC,GAAA,aAAgBH,EAAA,aAAAA,EAAA,wBAElHI,oBCCjB,IAuBAiZ,GAvBA9Z,EAAA,OAcA+Z,CACAL,GACAG,IATA,EAVA,SAAA7Y,GACAhB,EAAA,SAaA,KAEA,MAUA,QCnBAga,EAAA,EAAIC,IAAIC,EAAA,GAER,IAAAC,GAAA,IAAmBD,EAAA,GACjBE,KAAM,UACNC,SAEI9V,KAAM,SACN9B,KAAM,QACN6X,UAAWd,KAGXjV,KAAM,OACN9B,KAAM,cACN6X,UAAWR,GACXS,WAEIhW,KAAM,UACN9B,KAAM,OACN6X,UAAWjC,KAGX9T,KAAM,GACN9B,KAAM,QACN6X,UAAW/Q,EACXiR,UAAU,MAKdjW,KAAM,GACNkW,SAAU,kKCrBhBT,EAAA,EAAIC,IAAIS,GAAA,GAER,IAAMC,GAAQ,IAAID,GAAA,EAAKE,OACrBC,OACEC,MAAO,GAETC,WACEC,UADS,SACEH,GACTA,EAAMC,YAKZd,EAAA,EAAIC,IAAIgB,GAAA,GAER,IAAMC,GAAW,IAAIC,GAAA,GACnBC,IAAK,iEAGDC,GAAe,IAAIC,GAAA,GACvBC,KAAML,GACNM,MAAO,IAAIC,GAAA,EACXC,mBAAmB,IAGrB1B,EAAA,EAAIC,IAAI0B,GAAA,GAER,IAAMC,GAAiB,IAAID,GAAA,GACzBE,cAAeR,KAGjBrB,EAAA,EAAI8B,OAAOC,eAAgB,EAE3B/B,EAAA,EAAIC,IAAI+B,GAAA,GAERhC,EAAA,EAAIC,IAAIgC,GAAAC,GACNC,OACEC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACR1Y,MAAO,UACP2Y,QAAS,UACTC,KAAM,UACNC,QAAS,WAEXC,OACEC,OAAU,eAId3C,EAAA,EAAIC,IAAI2C,GAAAV,GAGR,IAAIlC,EAAA,GACF6C,GAAI,OACJ1C,UACA2C,QAASlB,GAAekB,UACxBnC,MAAOA,GACPoC,YAAa7c,IAAAY,GACbkc,SAAU,sDC3EZld,EAAAC,QAAAC,EAAAC,EAAA,4ICAAH,EAAAC,QAAAC,EAAAC,EAAA","file":"static/js/app.59d2e3e6bb29190af80d.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/logo-white.608319e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/logo-white.png\n// module id = 4OVm\n// module chunks = 1","<template>\r\n  <v-app id=\"app-container\">\r\n    <router-view></router-view>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App',\r\n  data: () => ({\r\n    drawer: false\r\n  }),\r\n  props: {\r\n    source: String\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\nhtml,body{\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n#app-container{\r\n  width: 100%;\r\n  height: 100%;\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Icons';\r\n  src:  url('./assets/fonts/Icons.eot?kkiwn0');\r\n  src:  url('./assets/fonts/Icons.eot?kkiwn0#iefix') format('embedded-opentype'),\r\n    url('./assets/fonts/Icons.ttf?kkiwn0') format('truetype'),\r\n    url('./assets/fonts/Icons.woff?kkiwn0') format('woff'),\r\n    url('./assets/fonts/Icons.svg?kkiwn0#Icons') format('svg');\r\n  font-weight: normal;\r\n  font-style: normal;\r\n}\r\n\r\n[class^=\"sb-\"], [class*=\" sb-\"] {\r\n  /* use !important to prevent issues with browser extensions that change fonts */\r\n  font-family: 'Icons' !important;\r\n  speak: none;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  font-variant: normal;\r\n  text-transform: none;\r\n  line-height: 1;\r\n\r\n  /* Better Font Rendering =========== */\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.sb-eraser:before {\r\n  content: \"\\e900\";\r\n}\r\n.sb-ray-start-end:before {\r\n  content: \"\\e901\";\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"app-container\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ce348e2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ce348e2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ce348e2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import gql from 'graphql-tag'\r\n\r\n// Queries\r\n\r\nexport const VALIDATE_TOKEN_QUERY = gql`\r\n  query ValidateTokenQuery($uid: String!, $client: String!, $token: String!){\r\n    validateSession(headersSession:{\r\n      uid: $uid,\r\n      client: $client,\r\n      token: $token\r\n    }) {\r\n      id,\r\n      name,\r\n      nickname,\r\n      image,\r\n      token,\r\n      client,\r\n      type\r\n    }\r\n  }\r\n`\r\n\r\nexport const ALL_ROOMS_QUERY = gql`\r\n  query AllRoomsQuery{\r\n    allRooms{\r\n      idRoom,\r\n      nameRoom,\r\n      descriptionRoom,\r\n      categoryRoom,\r\n      owner{\r\n        name,\r\n        nickname,\r\n        image\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const ROOM_BY_ID_QUERY = gql`\r\n  query RoomByIdQuery($id: Int!){\r\n    roomById(id: $id){\r\n      nameRoom,\r\n      descriptionRoom,\r\n      idRoom,\r\n      categoryRoom,\r\n      Participants{\r\n        id,\r\n        name,\r\n        nickname,\r\n        image\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const MESSAGES_BY_ROOM_ID_QUERY = gql`\r\n  query MessagesByRoomIdQuery($id: Int!){\r\n    chatMsgByRoomId(id: $id){\r\n      user_id,\r\n      message\r\n    }\r\n  }\r\n`\r\n\r\nexport const USER_IMAGE_BY_ID_QUERY = gql`\r\n  query UserImageByIdQuery($id: Int!){\r\n    userById(id: $id){\r\n      data{\r\n        image\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\n// Mutations\r\n\r\nexport const CREATE_SESSION_MUTATION = gql`\r\n  mutation CreateSessionMutation($email: String!, $password: String!) {\r\n    createSession(\r\n      session:{\r\n        email: $email,\r\n        password: $password,\r\n      }\r\n    ) {\r\n      id\r\n      name\r\n      email\r\n      nickname\r\n      image\r\n      token\r\n      client\r\n    }\r\n  }\r\n`\r\n\r\nexport const CREATE_ROOM_MUTATION = gql`\r\nmutation CreateRoomMutation($idOwner: Int!, $nameRoom: String!, $descriptionRoom: String!, $categoryRoom: String!) {\r\n  createRoom(\r\n    room:{\r\n      idOwner: $idOwner,\r\n      nameRoom: $nameRoom,\r\n      descriptionRoom: $descriptionRoom,\r\n      categoryRoom: $categoryRoom\r\n    }\r\n  ) {\r\n    idRoom\r\n  }\r\n}\r\n`\r\n\r\nexport const JOIN_ROOM_MUTATION = gql`\r\nmutation JoinRoomMutation($idOwner: Int!, $idRoom: Int!) {\r\n  joinRoom(\r\n    room:{\r\n      idOwner: $idOwner,\r\n      idRoom: $idRoom\r\n    }\r\n  ) {\r\n    idRoom\r\n  }\r\n}\r\n`\r\n\r\nexport const DELETE_ROOM_MUTATION = gql`\r\nmutation DeleteRoomMutation($idOwner: Int!, $idRoom: Int!) {\r\n  deleteRoom(\r\n    roomDelete:{\r\n      idOwner: $idOwner,\r\n      idRoom: $idRoom\r\n    }\r\n  ) {\r\n    idRoom\r\n  }\r\n}\r\n`\r\n\r\nexport const EXIT_ROOM_MUTATION = gql`\r\nmutation ExitRoomMutation($idOwner: Int!, $idRoom: Int!) {\r\n  exitRoom(\r\n    roomDelete:{\r\n      idOwner: $idOwner,\r\n      idRoom: $idRoom\r\n    }\r\n  ) {\r\n    idRoom\r\n  }\r\n}\r\n`\r\n\r\nexport const DELETE_SESSION_MUTATION = gql`\r\nmutation DeleteSessionMutation($uid: String!, $token: String!, $client: String!) {\r\n  deleteSession(headersSession: {\r\n    uid: $uid,\r\n    token: $token,\r\n    client: $client\r\n  }){\r\n    success\r\n  }\r\n}\r\n`\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/graphql.js","export const COLORS = [\r\n  {\r\n    name: 'Red',\r\n    value: '#f44336'\r\n  },\r\n  {\r\n    name: 'Pink',\r\n    value: '#e91e63'\r\n  },\r\n  {\r\n    name: 'Purple',\r\n    value: '#9c27b0'\r\n  },\r\n  {\r\n    name: 'Deep Purple',\r\n    value: '#673ab7'\r\n  },\r\n  {\r\n    name: 'Indigo',\r\n    value: '#3f51b5'\r\n  },\r\n  {\r\n    name: 'Blue',\r\n    value: '#2196f3'\r\n  },\r\n  {\r\n    name: 'Cyan',\r\n    value: '#00bcd4'\r\n  },\r\n  {\r\n    name: 'Teal',\r\n    value: '#009688'\r\n  },\r\n  {\r\n    name: 'Green',\r\n    value: '#4caf50'\r\n  },\r\n  {\r\n    name: 'Lime',\r\n    value: '#cddc39'\r\n  },\r\n  {\r\n    name: 'Yellow',\r\n    value: '#ffeb3b'\r\n  },\r\n  {\r\n    name: 'Orange',\r\n    value: '#ff9800'\r\n  },\r\n  {\r\n    name: 'Brown',\r\n    value: '#795548'\r\n  },\r\n  {\r\n    name: 'Grey',\r\n    value: '#9e9e9e'\r\n  },\r\n  {\r\n    name: 'Blue Grey',\r\n    value: '#607d8b'\r\n  },\r\n  {\r\n    name: 'Black',\r\n    value: '#000000'\r\n  }\r\n]\r\n\r\nexport const THICKNESSES = [\r\n  {\r\n    name: '8px',\r\n    value: 8\r\n  },\r\n  {\r\n    name: '12px',\r\n    value: 12\r\n  },\r\n  {\r\n    name: '16px',\r\n    value: 16\r\n  },\r\n  {\r\n    name: '20px',\r\n    value: 20\r\n  },\r\n  {\r\n    name: '24px',\r\n    value: 24\r\n  },\r\n  {\r\n    name: '28px',\r\n    value: 28\r\n  },\r\n  {\r\n    name: '32px',\r\n    value: 32\r\n  },\r\n  {\r\n    name: '36px',\r\n    value: 36\r\n  }\r\n]\r\n\r\nexport const TYPES = [\r\n  {\r\n    name: 'Eraser',\r\n    value: 'eraser',\r\n    icon: 'mdi-eraser'\r\n  },\r\n  {\r\n    name: 'Straight Line',\r\n    value: 'line',\r\n    icon: 'mdi-ray-start-end'\r\n  },\r\n  {\r\n    name: 'Brush',\r\n    value: 'point',\r\n    icon: 'brush'\r\n  }\r\n]\r\n\r\nexport const CATEGORIES = [\r\n  {\r\n    name: 'Politics',\r\n    value: 'politics',\r\n    icon: 'account_balance'\r\n  },\r\n  {\r\n    name: 'Programming',\r\n    value: 'programming',\r\n    icon: 'code'\r\n  },\r\n  {\r\n    name: 'Music',\r\n    value: 'music',\r\n    icon: 'music_note'\r\n  },\r\n  {\r\n    name: 'Movies',\r\n    value: 'movies',\r\n    icon: 'movie'\r\n  },\r\n  {\r\n    name: 'Books',\r\n    value: 'books',\r\n    icon: 'import_contacts'\r\n  },\r\n  {\r\n    name: 'Relaxing',\r\n    value: 'relaxing',\r\n    icon: 'weekend'\r\n  },\r\n  {\r\n    name: 'Gaming',\r\n    value: 'gaming',\r\n    icon: 'videogame_asset'\r\n  },\r\n  {\r\n    name: 'Math',\r\n    value: 'math',\r\n    icon: 'functions'\r\n  },\r\n  {\r\n    name: 'Languages',\r\n    value: 'languages',\r\n    icon: 'public'\r\n  },\r\n  {\r\n    name: 'Science',\r\n    value: 'science',\r\n    icon: 'lightbulb_outline'\r\n  }\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/constants.js","<template>\r\n<v-container>\r\n   <v-navigation-drawer\r\n      fixed\r\n      app\r\n      clipped\r\n      id=\"drawer\"\r\n    >\r\n    <v-container>\r\n      <v-layout row wrap text-xs-center>\r\n        <v-flex xs12>\r\n          <v-avatar\r\n            size=\"64\"\r\n            class=\"grey lighten-4\"\r\n          >\r\n            <img :src=\"user.image\" alt=\"avatar\">\r\n          </v-avatar>\r\n        </v-flex>\r\n        <v-flex xs12 class=\"mt-3\">\r\n          <h1 class=\"headline\">{{user.name}}</h1>\r\n        </v-flex>\r\n        <v-flex xs12 class=\"mt-1 grey--text\">\r\n          <h1 class=\"subheading\">{{user.nickname}}</h1>\r\n        </v-flex>\r\n        <v-flex xs12 class=\"grey--text\">\r\n          <h1 class=\"subheading\">{{user.email}}</h1>\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-container>\r\n    <v-list dense id=\"categories\">\r\n      <v-divider></v-divider>\r\n      <v-list-tile :value=\"'all' === selectedCategory\" @click=\"sortBy('all')\">\r\n        <v-list-tile-action>\r\n          <v-icon>home</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>All</v-list-tile-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <template v-for=\"category in orderedCategories\">\r\n        <v-list-tile :value=\"category.value === selectedCategory\" :key=\"category.value\" @click=\"sortBy(category.value)\">\r\n          <v-list-tile-action>\r\n            <v-icon>{{category.icon}}</v-icon>\r\n          </v-list-tile-action>\r\n          <v-list-tile-content>\r\n            <v-list-tile-title>{{category.name}}</v-list-tile-title>\r\n          </v-list-tile-content>\r\n        </v-list-tile>\r\n      </template>\r\n    </v-list>\r\n  </v-navigation-drawer>\r\n  <v-toolbar color=\"accent\" dark fixed app clipped-left>\r\n    <v-toolbar-title>\r\n      <img src=\"@/assets/images/logo-white.png\" id=\"logo\">\r\n    </v-toolbar-title>\r\n    <v-spacer></v-spacer>\r\n    <v-btn icon @click=\"logout()\">\r\n      <v-icon>exit_to_app</v-icon>\r\n    </v-btn>\r\n  </v-toolbar>\r\n  <v-content id=\"content-container\" style=\"padding-left: 0; padding-top: 0\">\r\n    <v-container fluid fill-height>\r\n      <v-layout justify-center row wrap>\r\n        <v-flex xs12 text-xs-center>\r\n          <h1 class=\"display-3\">Welcome to StreamBoard</h1>\r\n        </v-flex>\r\n        <v-flex xs12 text-xs-center>\r\n          <v-dialog v-model=\"joinDialog\" persistent max-width=\"500px\">\r\n            <v-btn color=\"primary\" slot=\"activator\">JOIN A ROOM</v-btn>\r\n            <v-card>\r\n              <v-card-title class=\"headline\">Join a Room</v-card-title>\r\n              <v-card-text>\r\n                <v-text-field\r\n                  autofocus\r\n                  label=\"Room Id\"\r\n                  mask=\"#######################\"\r\n                  v-model=\"joinId\"\r\n                  @keyup.enter=\"joinRoom(joinId)\"\r\n                ></v-text-field>\r\n              </v-card-text>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn color=\"error\" flat @click.native=\"cancelJoin()\">Cancel</v-btn>\r\n                <v-btn color=\"primary\" @click.native=\"joinRoom(joinId)\">Join</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-dialog>\r\n          <v-dialog v-model=\"createDialog\" persistent max-width=\"500px\">\r\n            <v-btn color=\"primary\" slot=\"activator\">CREATE A ROOM</v-btn>\r\n            <v-card>\r\n              <v-card-title>\r\n                <span class=\"headline\">Create a Room</span>\r\n              </v-card-title>\r\n              <v-card-text>\r\n                <v-container grid-list-md>\r\n                  <v-layout wrap>\r\n                    <v-flex xs12>\r\n                      <v-text-field autofocus label=\"Name\" required v-model=\"newRoom.name\" @keyup.enter=\"createRoom()\"></v-text-field>\r\n                    </v-flex>\r\n                    <v-flex xs12>\r\n                      <v-text-field label=\"Description\" multi-line v-model=\"newRoom.description\" @keyup.enter=\"createRoom()\"></v-text-field>\r\n                    </v-flex>\r\n                    <v-flex xs12>\r\n                      <v-select\r\n                        label=\"Category\"\r\n                        required\r\n                        :items=\"categories\"\r\n                        item-text=\"name\"\r\n                        v-model=\"newRoom.category\"\r\n                      >\r\n                        <template slot=\"item\" slot-scope=\"data\">\r\n                          <v-list-tile-avatar>\r\n                            <v-icon>{{data.item.icon}}</v-icon>\r\n                          </v-list-tile-avatar>\r\n                          <v-list-tile-content>\r\n                            <v-list-tile-title v-html=\"data.item.name\"></v-list-tile-title>\r\n                          </v-list-tile-content>\r\n                        </template>\r\n                      </v-select>\r\n                    </v-flex>\r\n                  </v-layout>\r\n                </v-container>\r\n              </v-card-text>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn color=\"error\" flat @click.native=\"cancelCreate()\">Cancel</v-btn>\r\n                <v-btn color=\"primary\" @click.native=\"createRoom()\">Create</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-dialog>\r\n          <v-btn color=\"primary\" @click=\"refresh()\">REFRESH</v-btn>\r\n        </v-flex>\r\n        <v-list class=\"list mt-5\" two-line>\r\n          <v-flex xs12>\r\n            <v-list-tile class=\"room\" v-if=\"checkCategory(room.category.value)\" avatar v-for=\"room in roomsList\" :key=\"room.idRoom\">\r\n              <v-list-tile-action>\r\n                <v-icon>{{room.category.icon}}</v-icon>\r\n              </v-list-tile-action>\r\n              <v-list-tile-avatar>\r\n                <img :src=\"room.owner.image\">\r\n              </v-list-tile-avatar>\r\n              <v-list-tile-content>\r\n                <v-list-tile-title>{{room.nameRoom}}</v-list-tile-title>\r\n                <v-list-tile-sub-title ><span class=\"bold\">{{room.owner.name}}</span> - {{room.descriptionRoom}}</v-list-tile-sub-title>\r\n              </v-list-tile-content>\r\n              <v-btn color=\"primary\" @click=\"joinRoom(room.idRoom)\">JOIN</v-btn>\r\n            </v-list-tile>\r\n          </v-flex>\r\n        </v-list>\r\n      </v-layout>\r\n    </v-container>\r\n  </v-content>\r\n  <v-snackbar\r\n    color=\"error\"\r\n    v-model=\"snackbar\"\r\n    >\r\n    {{ message }}\r\n    <v-btn dark flat @click.native=\"snackbar = false\"><v-icon>close</v-icon></v-btn>\r\n  </v-snackbar>\r\n</v-container>\r\n</template>\r\n\r\n<script>\r\nimport { CREATE_ROOM_MUTATION, JOIN_ROOM_MUTATION, ALL_ROOMS_QUERY, DELETE_SESSION_MUTATION } from '../constants/graphql'\r\nimport { CATEGORIES } from '../constants/constants'\r\n\r\nexport default {\r\n  name: 'Lobby',\r\n  beforeRouteEnter (to, from, next) {\r\n    next(vm => {\r\n      vm.fetchData()\r\n    })\r\n  },\r\n  data () {\r\n    return {\r\n      createDialog: false,\r\n      joinDialog: false,\r\n      snackbar: false,\r\n      message: 'Error while creating room',\r\n      roomsList: [],\r\n      user: JSON.parse(localStorage.getItem('user')),\r\n      selectedCategory: 'all',\r\n      newRoom: {},\r\n      joinId: null,\r\n      categories: CATEGORIES\r\n    }\r\n  },\r\n  methods: {\r\n    fetchData () {\r\n      console.log('fetching Data')\r\n      this.$apollo.query({\r\n        query: ALL_ROOMS_QUERY,\r\n        fetchPolicy: 'network-only'\r\n      }).then((result) => {\r\n        let rooms = []\r\n        result.data.allRooms.forEach((item) => {\r\n          let newCategory = this.categories.filter((category) => {\r\n            return category.value === item.categoryRoom\r\n          })[0]\r\n          if (!newCategory) {\r\n            newCategory = this.categories[0]\r\n          }\r\n          let room = {\r\n            idRoom: item.idRoom,\r\n            owner: item.owner,\r\n            nameRoom: item.nameRoom,\r\n            descriptionRoom: item.descriptionRoom,\r\n            category: newCategory\r\n          }\r\n          rooms.push(room)\r\n          this.roomsList = rooms\r\n        })\r\n      }).catch((error) => {\r\n        console.log(error)\r\n      })\r\n    },\r\n    refresh () {\r\n      this.fetchData()\r\n      console.log('refresh')\r\n    },\r\n    joinRoom (id) {\r\n      let user = JSON.parse(localStorage.getItem('user'))\r\n      this.$apollo.mutate({\r\n        mutation: JOIN_ROOM_MUTATION,\r\n        variables: {\r\n          idOwner: user.id,\r\n          idRoom: id\r\n        }\r\n      }).then((response) => {\r\n        this.$router.push({path: `/app/${id}`})\r\n      }).catch((error) => {\r\n        console.log(error)\r\n        this.message = `Room doesn't exist`\r\n        this.snackbar = true\r\n      })\r\n    },\r\n    createRoom () {\r\n      let user = JSON.parse(localStorage.getItem('user'))\r\n      this.$apollo.mutate({\r\n        mutation: CREATE_ROOM_MUTATION,\r\n        variables: {\r\n          idOwner: user.id,\r\n          nameRoom: this.newRoom.name,\r\n          descriptionRoom: this.newRoom.description,\r\n          categoryRoom: this.newRoom.category\r\n        }\r\n      }).then((response) => {\r\n        let id = response.data.createRoom.idRoom\r\n        this.$router.push({path: `/app/${id}`})\r\n      }).catch((error) => {\r\n        console.log(error)\r\n        this.message = 'Error creating room'\r\n        this.snackbar = true\r\n      })\r\n    },\r\n    cancelCreate () {\r\n      this.newRoom = {}\r\n      this.createDialog = false\r\n    },\r\n    cancelJoin () {\r\n      this.joinId = null\r\n      this.joinDialog = false\r\n    },\r\n    sortBy (category) {\r\n      this.selectedCategory = category\r\n    },\r\n    checkCategory (category) {\r\n      if (this.selectedCategory === 'all') {\r\n        return true\r\n      } else if (this.selectedCategory === category) {\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n    logout () {\r\n      let user = JSON.parse(localStorage.getItem('user'))\r\n      this.$apollo.mutate({\r\n        mutation: DELETE_SESSION_MUTATION,\r\n        variables: {\r\n          uid: user.email,\r\n          token: user.token,\r\n          client: user.client\r\n        }\r\n      }).then((response) => {\r\n        localStorage.setItem('user', '')\r\n        this.$router.push({path: `/login`})\r\n      }).catch((error) => {\r\n        console.log(error)\r\n        this.message = 'Error logging out'\r\n        this.snackbar = true\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    orderedCategories () {\r\n      let ordered = this.categories\r\n      return ordered.sort((a, b) => {\r\n        if (a.name < b.name) return -1\r\n        if (a.name > b.name) return 1\r\n        return 0\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n#logo{\r\n  height: 6vh;\r\n  width: auto;\r\n}\r\n.active{\r\n  background-color: #e0e0e0;\r\n  color: #26d3cd;\r\n}\r\n.list{\r\n  width: 100%;\r\n}\r\n.room{\r\n  width: 100%;\r\n}\r\n.bold{\r\n  font-weight: bold;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Lobby.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-navigation-drawer',{attrs:{\"fixed\":\"\",\"app\":\"\",\"clipped\":\"\",\"id\":\"drawer\"}},[_c('v-container',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"text-xs-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-avatar',{staticClass:\"grey lighten-4\",attrs:{\"size\":\"64\"}},[_c('img',{attrs:{\"src\":_vm.user.image,\"alt\":\"avatar\"}})])],1),_vm._v(\" \"),_c('v-flex',{staticClass:\"mt-3\",attrs:{\"xs12\":\"\"}},[_c('h1',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.user.name))])]),_vm._v(\" \"),_c('v-flex',{staticClass:\"mt-1 grey--text\",attrs:{\"xs12\":\"\"}},[_c('h1',{staticClass:\"subheading\"},[_vm._v(_vm._s(_vm.user.nickname))])]),_vm._v(\" \"),_c('v-flex',{staticClass:\"grey--text\",attrs:{\"xs12\":\"\"}},[_c('h1',{staticClass:\"subheading\"},[_vm._v(_vm._s(_vm.user.email))])])],1)],1),_vm._v(\" \"),_c('v-list',{attrs:{\"dense\":\"\",\"id\":\"categories\"}},[_c('v-divider'),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"value\":'all' === _vm.selectedCategory},on:{\"click\":function($event){_vm.sortBy('all')}}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"home\")])],1),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"All\")])],1)],1),_vm._v(\" \"),_vm._l((_vm.orderedCategories),function(category){return [_c('v-list-tile',{key:category.value,attrs:{\"value\":category.value === _vm.selectedCategory},on:{\"click\":function($event){_vm.sortBy(category.value)}}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(category.icon))])],1),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(category.name))])],1)],1)]})],2)],1),_vm._v(\" \"),_c('v-toolbar',{attrs:{\"color\":\"accent\",\"dark\":\"\",\"fixed\":\"\",\"app\":\"\",\"clipped-left\":\"\"}},[_c('v-toolbar-title',[_c('img',{attrs:{\"src\":require(\"@/assets/images/logo-white.png\"),\"id\":\"logo\"}})]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.logout()}}},[_c('v-icon',[_vm._v(\"exit_to_app\")])],1)],1),_vm._v(\" \"),_c('v-content',{staticStyle:{\"padding-left\":\"0\",\"padding-top\":\"0\"},attrs:{\"id\":\"content-container\"}},[_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\",\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"text-xs-center\":\"\"}},[_c('h1',{staticClass:\"display-3\"},[_vm._v(\"Welcome to StreamBoard\")])]),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\",\"text-xs-center\":\"\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.joinDialog),callback:function ($$v) {_vm.joinDialog=$$v},expression:\"joinDialog\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"color\":\"primary\"},slot:\"activator\"},[_vm._v(\"JOIN A ROOM\")]),_vm._v(\" \"),_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Join a Room\")]),_vm._v(\" \"),_c('v-card-text',[_c('v-text-field',{attrs:{\"autofocus\":\"\",\"label\":\"Room Id\",\"mask\":\"#######################\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.joinRoom(_vm.joinId)}},model:{value:(_vm.joinId),callback:function ($$v) {_vm.joinId=$$v},expression:\"joinId\"}})],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"error\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.cancelJoin()}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\"},nativeOn:{\"click\":function($event){_vm.joinRoom(_vm.joinId)}}},[_vm._v(\"Join\")])],1)],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.createDialog),callback:function ($$v) {_vm.createDialog=$$v},expression:\"createDialog\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"color\":\"primary\"},slot:\"activator\"},[_vm._v(\"CREATE A ROOM\")]),_vm._v(\" \"),_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"Create a Room\")])]),_vm._v(\" \"),_c('v-card-text',[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"autofocus\":\"\",\"label\":\"Name\",\"required\":\"\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.createRoom()}},model:{value:(_vm.newRoom.name),callback:function ($$v) {_vm.$set(_vm.newRoom, \"name\", $$v)},expression:\"newRoom.name\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Description\",\"multi-line\":\"\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.createRoom()}},model:{value:(_vm.newRoom.description),callback:function ($$v) {_vm.$set(_vm.newRoom, \"description\", $$v)},expression:\"newRoom.description\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-select',{attrs:{\"label\":\"Category\",\"required\":\"\",\"items\":_vm.categories,\"item-text\":\"name\"},scopedSlots:_vm._u([{key:\"item\",fn:function(data){return [_c('v-list-tile-avatar',[_c('v-icon',[_vm._v(_vm._s(data.item.icon))])],1),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',{domProps:{\"innerHTML\":_vm._s(data.item.name)}})],1)]}}]),model:{value:(_vm.newRoom.category),callback:function ($$v) {_vm.$set(_vm.newRoom, \"category\", $$v)},expression:\"newRoom.category\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"error\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.cancelCreate()}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\"},nativeOn:{\"click\":function($event){_vm.createRoom()}}},[_vm._v(\"Create\")])],1)],1)],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.refresh()}}},[_vm._v(\"REFRESH\")])],1),_vm._v(\" \"),_c('v-list',{staticClass:\"list mt-5\",attrs:{\"two-line\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},_vm._l((_vm.roomsList),function(room){return (_vm.checkCategory(room.category.value))?_c('v-list-tile',{key:room.idRoom,staticClass:\"room\",attrs:{\"avatar\":\"\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(room.category.icon))])],1),_vm._v(\" \"),_c('v-list-tile-avatar',[_c('img',{attrs:{\"src\":room.owner.image}})]),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(room.nameRoom))]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_c('span',{staticClass:\"bold\"},[_vm._v(_vm._s(room.owner.name))]),_vm._v(\" - \"+_vm._s(room.descriptionRoom))])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.joinRoom(room.idRoom)}}},[_vm._v(\"JOIN\")])],1):_vm._e()}))],1)],1)],1)],1),_vm._v(\" \"),_c('v-snackbar',{attrs:{\"color\":\"error\"},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\"\\r\\n    \"+_vm._s(_vm.message)+\"\\r\\n    \"),_c('v-btn',{attrs:{\"dark\":\"\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.snackbar = false}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1091f247\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Lobby.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1091f247\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Lobby.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Lobby.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Lobby.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1091f247\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Lobby.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1091f247\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Lobby.vue\n// module id = null\n// module chunks = ","export default {\r\n  name: 'Board',\r\n  data: () => ({\r\n    socket: null,\r\n    isAllowed: false,\r\n    selectedColor: '#f44336',\r\n    selectedThickness: 8,\r\n    selectedType: 'point'\r\n  }),\r\n  mounted: function () {\r\n    let user = JSON.parse(localStorage.getItem('user'))\r\n    let URL = `ec2-34-228-226-216.compute-1.amazonaws.com:4002?room=${this.$route.params.roomid}&nick=${user.nickname}&id=${user.id}`\r\n    // eslint-disable-next-line\r\n    this.socket = io(URL)\r\n    componentLoaded(this.$route.params.roomid, this)\r\n    window.setTimeout(() => this.updateCursor(), 50)\r\n  },\r\n  methods: {\r\n    askForTurn () {\r\n      this.socket.emit('askForBoard')\r\n    },\r\n    takeBackPencil () {\r\n      this.socket.emit('resetBoard')\r\n    },\r\n    updateCursor () {\r\n      switch (this.selectedType) {\r\n        case 'point':\r\n          $('#board').awesomeCursor('circle', {\r\n            color: this.selectedColor,\r\n            size: this.selectedThickness,\r\n            hotspot: 'center'\r\n          })\r\n          break\r\n        case 'line':\r\n          $('#board').awesomeCursor('circle', {\r\n            color: this.selectedColor,\r\n            size: this.selectedThickness,\r\n            hotspot: 'center'\r\n          })\r\n          break\r\n        case 'eraser':\r\n          $('#board').awesomeCursor('circle-thin', {\r\n            color: '#000000',\r\n            size: this.selectedThickness,\r\n            hotspot: 'center'\r\n          })\r\n          break\r\n      }\r\n    },\r\n    setAdmin () {\r\n      console.log('emitadmin')\r\n      this.$bus.emit('set-admin')\r\n    },\r\n    changePermissions (value) {\r\n      this.$bus.emit('change-permissions', value)\r\n    },\r\n    clearBoard () {\r\n      this.socket.emit('clear')\r\n    }\r\n  }\r\n}\r\n\r\nfunction componentLoaded (roomId, _this) {\r\n  var $swal = _this.$swal\r\n  var socket = _this.socket\r\n  var $bus = _this.$bus\r\n\r\n  var isPenDown = false\r\n  var snapshot\r\n\r\n  var canvas\r\n  var context\r\n\r\n  var hasTouch = false\r\n\r\n  var localPen = {}\r\n\r\n  init()\r\n\r\n  function init () {\r\n    registerSocketListeners()\r\n    registerBusListeners()\r\n    initCanvas()\r\n    registerInputListeners()\r\n  }\r\n\r\n  function initCanvas () {\r\n    canvas = document.getElementById('board')\r\n\r\n    canvas.width = 1280\r\n    canvas.height = 720\r\n\r\n    context = canvas.getContext('2d')\r\n    context.lineCap = 'round'\r\n  }\r\n\r\n  function registerInputListeners () {\r\n    canvas.onmousedown = pointerDownListener\r\n    document.onmousemove = pointerMoveListener\r\n    document.onmouseup = pointerUpListener\r\n    document.ontouchstart = touchDownListener\r\n    document.ontouchmove = touchMoveListener\r\n    document.ontouchend = touchUpListener\r\n  }\r\n\r\n  function registerBusListeners () {\r\n    $bus.on('ask-for-turn', _this.askForTurn)\r\n    $bus.on('take-back-pencil', _this.takeBackPencil)\r\n    $bus.on('change-color', (data) => {\r\n      _this.selectedColor = data\r\n      _this.updateCursor()\r\n    })\r\n    $bus.on('change-thickness', (data) => {\r\n      _this.selectedThickness = data.value\r\n      _this.updateCursor()\r\n    })\r\n    $bus.on('change-type', (data) => {\r\n      _this.selectedType = data\r\n      _this.updateCursor()\r\n    })\r\n    $bus.on('clear-board', () => {\r\n      _this.clearBoard()\r\n    })\r\n    $bus.on('user-disconnected', () => {\r\n      socket.disconnect()\r\n    })\r\n  }\r\n\r\n  function registerSocketListeners () {\r\n    socket.on('newDrawer', (data) => {\r\n      $bus.emit('new-drawer', data)\r\n    })\r\n    socket.on('userDisconnected', (data) => {\r\n      $bus.emit('user-disconnected', data)\r\n    })\r\n    socket.on('admin', function () {\r\n      _this.isAllowed = true\r\n      _this.setAdmin()\r\n      _this.changePermissions(true)\r\n    })\r\n    socket.on('draw', function (data) {\r\n      drawMessageListener(data)\r\n    })\r\n    socket.on('clear', function () {\r\n      clearBoard()\r\n    })\r\n    socket.on('askForBoard', function (data) {\r\n      $swal({\r\n        title: 'Turn petition',\r\n        text: `User ${data.nick} wants to use the board`,\r\n        type: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#26d3cd',\r\n        cancelButtonColor: '#f44336',\r\n        confirmButtonText: 'Yes, approve',\r\n        cancelButtonText: 'No, disapprove'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          $swal({\r\n            title: 'Approved',\r\n            text: 'User has the permission',\r\n            type: 'success',\r\n            confirmButtonColor: '#26d3cd'\r\n          })\r\n          _this.isAllowed = false\r\n          _this.changePermissions(false)\r\n          socket.emit('answerForBoard', {answer: true, socketId: data.socketId})\r\n        } else {\r\n          $swal({\r\n            title: 'Disapproved',\r\n            text: 'You disapproved the user',\r\n            type: 'error',\r\n            confirmButtonColor: '#26d3cd'\r\n          })\r\n          socket.emit('answerForBoard', {answer: false, socketId: data.socketId})\r\n        }\r\n      })\r\n    })\r\n    socket.on('answerForBoard', function (data) {\r\n      if (data) {\r\n        $swal({\r\n          title: 'Permission granted',\r\n          text: 'You can draw on the board',\r\n          type: 'success',\r\n          confirmButtonColor: '#26d3cd'\r\n        })\r\n        _this.changePermissions(true)\r\n        _this.isAllowed = true\r\n      } else {\r\n        $swal({\r\n          title: 'Permission denied',\r\n          text: 'You can\\'t draw on the board',\r\n          type: 'error',\r\n          confirmButtonColor: '#26d3cd'\r\n        })\r\n        _this.changePermissions(false)\r\n        _this.isAllowed = false\r\n      }\r\n    })\r\n    socket.on('resetBoard', function (data) {\r\n      _this.changePermissions(true)\r\n      _this.isAllowed = true\r\n      $swal({\r\n        title: 'You took the pen back',\r\n        text: 'You can start drawing again',\r\n        type: 'success',\r\n        confirmButtonColor: '#26d3cd'\r\n      })\r\n    })\r\n    socket.on('lostPermission', function () {\r\n      _this.changePermissions(false)\r\n      _this.isAllowed = false\r\n      $swal({\r\n        title: 'You lost permission',\r\n        text: 'You can no longer draw',\r\n        type: 'error',\r\n        confirmButtonColor: '#26d3cd'\r\n      })\r\n    })\r\n    socket.on('hostLeft', function () {\r\n      $swal({\r\n        title: 'Call finished',\r\n        text: 'The host has left the room, you got disconnected from the room',\r\n        type: 'info',\r\n        confirmButtonColor: '#26d3cd',\r\n        confirmButtonText: 'Return to lobby'\r\n      }).then((result) => {\r\n        _this.$router.push('/app')\r\n      })\r\n    })\r\n\r\n    _this.$bus.on('clear-board', () => {\r\n      clearBoard()\r\n    })\r\n  }\r\n\r\n  function getType () {\r\n    return _this.selectedType\r\n  }\r\n\r\n  function takeSnapshot () {\r\n    snapshot = context.getImageData(0, 0, canvas.width, canvas.height)\r\n  }\r\n\r\n  function restoreSnapshot () {\r\n    context.putImageData(snapshot, 0, 0)\r\n  }\r\n\r\n  function clearBoard () {\r\n    context.fillStyle = '#FFFFFF'\r\n    context.fillRect(0, 0, canvas.width, canvas.height)\r\n  }\r\n\r\n  function drawMessageListener (data) {\r\n    switch (data.type) {\r\n      case 'path':\r\n        console.log(data.color)\r\n        drawPath(data.color, data.thickness, data.event, data.coords.x, data.coords.y)\r\n        break\r\n      case 'line':\r\n        drawLine(data.color, data.thickness,\r\n          data.coords.start.x, data.coords.start.y,\r\n          data.coords.end.x, data.coords.end.y)\r\n        break\r\n    }\r\n  }\r\n\r\n  function broadcastPath (event, coords) {\r\n    socket.emit('draw', { type: 'path', event: event, coords: coords, color: _this.selectedColor, thickness: _this.selectedThickness })\r\n  }\r\n\r\n  function broadcastLine (coords) {\r\n    socket.emit('draw', { type: 'line', color: _this.selectedColor, thickness: _this.selectedThickness, coords: coords })\r\n  }\r\n\r\n  function broadcastErase (event, coords) {\r\n    socket.emit('draw', { type: 'path', event: event, coords: coords, color: '#FFFFFF', thickness: _this.selectedThickness })\r\n  }\r\n\r\n  function touchDownListener (e) {\r\n    hasTouch = true\r\n    if (event.target.nodeName !== 'SELECT') {\r\n      e.preventDefault()\r\n    }\r\n\r\n    var touchX = e.changedTouches[0].clientX - canvas.offsetLeft\r\n    var touchY = e.changedTouches[0].clientY - canvas.offsetTop\r\n    if (!isPenDown) {\r\n      penDown(touchX, touchY)\r\n    }\r\n  }\r\n\r\n  function touchMoveListener (e) {\r\n    hasTouch = true\r\n    e.preventDefault()\r\n    var touchX = e.changedTouches[0].clientX - canvas.offsetLeft\r\n    var touchY = e.changedTouches[0].clientY - canvas.offsetTop\r\n    penMove(touchX, touchY)\r\n  }\r\n\r\n  function touchUpListener (e) {\r\n    hasTouch = true\r\n    e.preventDefault()\r\n    var touchX = e.changedTouches[0].clientX - canvas.offsetLeft\r\n    var touchY = e.changedTouches[0].clientY - canvas.offsetTop\r\n    penUp(touchX, touchY)\r\n  }\r\n\r\n  function pointerDownListener (e) {\r\n    if (hasTouch) {\r\n      return\r\n    }\r\n\r\n    var event = e || window.event\r\n\r\n    var mouseX = (event.clientX * canvas.width) / canvas.clientWidth\r\n    var mouseY = (event.clientY * canvas.height) / canvas.clientHeight\r\n\r\n    penDown(mouseX, mouseY)\r\n\r\n    if (event.preventDefault) {\r\n      if (event.target.nodeName !== 'SELECT') {\r\n        event.preventDefault()\r\n      }\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  function pointerMoveListener (e) {\r\n    if (hasTouch) {\r\n      return\r\n    }\r\n    var event = e || window.event\r\n    var mouseX = (event.clientX * canvas.width) / canvas.clientWidth\r\n    var mouseY = (event.clientY * canvas.height) / canvas.clientHeight\r\n\r\n    penMove(mouseX, mouseY)\r\n\r\n    if (event.preventDefault) {\r\n      event.preventDefault()\r\n    } else {\r\n      return false // IE\r\n    }\r\n  }\r\n\r\n  function pointerUpListener (e) {\r\n    if (hasTouch) {\r\n      return\r\n    }\r\n    var event = e || window.event\r\n    var mouseX = (event.clientX * canvas.width) / canvas.clientWidth\r\n    var mouseY = (event.clientY * canvas.height) / canvas.clientHeight\r\n\r\n    penUp(mouseX, mouseY)\r\n  }\r\n\r\n  function penDown (x, y) {\r\n    if (_this.isAllowed) {\r\n      isPenDown = true\r\n      localPen.x = x\r\n      localPen.y = y\r\n\r\n      switch (getType()) {\r\n        case 'point':\r\n          drawPath(_this.selectedColor, _this.selectedThickness, 'start', x, y)\r\n          broadcastPath('start', localPen)\r\n          break\r\n        case 'line':\r\n          takeSnapshot()\r\n          break\r\n        case 'eraser':\r\n          drawPath('#FFFFFF', _this.selectedThickness, 'start', x, y)\r\n          broadcastErase('start', localPen)\r\n          break\r\n      }\r\n    }\r\n  }\r\n\r\n  function penMove (x, y) {\r\n    if (isPenDown && _this.isAllowed) {\r\n      switch (getType()) {\r\n        case 'point':\r\n          drawPath(_this.selectedColor, _this.selectedThickness, 'move', x, y)\r\n          broadcastPath('move', { x: x, y: y })\r\n          break\r\n        case 'line':\r\n          restoreSnapshot()\r\n          drawLine(_this.selectedColor, _this.selectedThickness, localPen.x, localPen.y, x, y)\r\n          break\r\n        case 'eraser':\r\n          drawPath('#FFFFFF', _this.selectedThickness, 'move', x, y)\r\n          broadcastErase('move', { x: x, y: y })\r\n          break\r\n      }\r\n    }\r\n  }\r\n\r\n  function penUp (x, y) {\r\n    if (isPenDown && _this.isAllowed) {\r\n      switch (getType()) {\r\n        case 'point':\r\n          drawPath(_this.selectedColor, _this.selectedThickness, 'end', x, y)\r\n          broadcastPath('end', { x: x, y: y })\r\n          break\r\n        case 'line':\r\n          restoreSnapshot()\r\n          drawLine(_this.selectedColor, _this.selectedThickness, localPen.x, localPen.y, x, y)\r\n          broadcastLine({ start: { x: localPen.x, y: localPen.y }, end: { x: x, y: y } })\r\n          break\r\n        case 'eraser':\r\n          drawPath('#FFFFFF', _this.selectedThickness, 'end', x, y)\r\n          broadcastErase('end', { x: x, y: y })\r\n          break\r\n      }\r\n    }\r\n    isPenDown = false\r\n  }\r\n\r\n  function drawLine (color, thickness, x1, y1, x2, y2) {\r\n    context.strokeStyle = color\r\n    context.lineWidth = thickness\r\n\r\n    context.beginPath()\r\n    context.moveTo(x1, y1)\r\n    context.lineTo(x2, y2)\r\n    context.stroke()\r\n    context.closePath()\r\n  }\r\n\r\n  function drawPath (color, thickness, type, x, y) {\r\n    context.strokeStyle = color\r\n    context.lineWidth = thickness\r\n    switch (type) {\r\n      case 'start':\r\n        context.beginPath()\r\n        context.moveTo(x, y)\r\n        break\r\n      case 'move':\r\n        context.lineTo(x, y)\r\n        context.stroke()\r\n        break\r\n      case 'end':\r\n        context.closePath()\r\n        break\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Board.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"board-container\"},[_c('canvas',{attrs:{\"id\":\"board\",\"height\":\"720\",\"width\":\"1280\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2072f665\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Board.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2072f665\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Board.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./Board.js\"\nimport __vue_script__ from \"!!babel-loader!./Board.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2072f665\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Board.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2072f665\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Board.vue\n// module id = null\n// module chunks = ","<template>\r\n  <v-container fluid grid-list-md text-xs-center class=\"actions-container\">\r\n    <v-layout row fill-height align-center>\r\n      <v-flex xs3 justify-start>\r\n        <h1 class=\"title white--text\">{{room.nameRoom}}</h1>\r\n        <span class=\"body-2 grey--text\">Room id: {{room.idRoom}}</span>\r\n      </v-flex>\r\n      <v-spacer></v-spacer>\r\n      <div class=\"divider-actions\"></div>\r\n      <v-flex xs1 v-if=\"admin\">\r\n        <v-tooltip top>\r\n          <v-btn small class=\"elevation-10\" :disabled=\"isAllowed\" slot=\"activator\" outline fab color=\"primary\" @click=\"takeBackPencil()\">\r\n            <v-icon>mdi-pencil-lock</v-icon>\r\n          </v-btn>\r\n          <span>Take back pencil</span>\r\n        </v-tooltip>\r\n      </v-flex>\r\n      <v-flex xs1 v-else>\r\n        <v-tooltip top>\r\n          <v-btn small class=\"elevation-10\" :disabled=\"isAllowed\" slot=\"activator\" outline fab color=\"primary\" @click=\"askForBoard()\">\r\n            <v-icon>create</v-icon>\r\n          </v-btn>\r\n          <span>Ask for board</span>\r\n        </v-tooltip>\r\n      </v-flex>\r\n      <v-flex xs1>\r\n        <v-menu offset-y nudge-left=\"120\" nudge-top=\"15\" top>\r\n          <v-tooltip top slot=\"activator\">\r\n            <v-btn small class=\"elevation-10\" slot=\"activator\" dark fab v-bind:style=\"{ backgroundColor: selectedColor}\">\r\n              <v-icon>palette</v-icon>\r\n            </v-btn>\r\n            <span>Change color</span>\r\n          </v-tooltip>\r\n          <v-container id=\"color-container\" grid-list-sm>\r\n            <v-layout row wrap>\r\n              <v-flex xs3 v-for=\"color in colors\" :key=\"color.value\">\r\n                <v-tooltip top>\r\n                  <v-btn slot=\"activator\" fab dark small v-bind:style=\"{ backgroundColor: color.value}\" @click=\"changeColor(color.value)\"></v-btn>\r\n                  <span>{{color.name}}</span>\r\n                </v-tooltip>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n        </v-menu>\r\n      </v-flex>\r\n      <v-flex xs1>\r\n        <v-menu offset-y top nudge-left=\"35\" nudge-top=\"15\">\r\n          <v-tooltip top slot=\"activator\">\r\n            <v-btn small class=\"elevation-10\" slot=\"activator\" outline fab color=\"primary\">\r\n              <v-icon>{{selectedType}}</v-icon>\r\n            </v-btn>\r\n            <span>Change type</span>\r\n          </v-tooltip>\r\n          <v-list>\r\n            <v-list-tile v-for=\"item in types\" :key=\"item.value\" @click=\"changeType(item)\">\r\n              <v-list-tile-action>\r\n                <v-icon>{{item.icon}}</v-icon>\r\n              </v-list-tile-action>\r\n              <v-list-tile-title>{{ item.name }}</v-list-tile-title>\r\n            </v-list-tile>\r\n          </v-list>\r\n        </v-menu>\r\n      </v-flex>\r\n      <v-flex xs1>\r\n        <v-menu offset-y top nudge-left=\"50\" nudge-top=\"15\">\r\n          <v-tooltip top slot=\"activator\">\r\n            <v-btn small class=\"elevation-10\" slot=\"activator\" outline fab color=\"primary\" @click=\"changeThickness()\">\r\n              <v-icon v-bind:style=\"{fontSize: selectedThickness}\">lens</v-icon>\r\n            </v-btn>\r\n            <span>Change thickness</span>\r\n          </v-tooltip>\r\n          <v-container id=\"thickness-container\" grid-list-sm>\r\n            <v-layout row wrap>\r\n              <v-flex xs6 v-for=\"option in thicknesses\" :key=\"option.value\">\r\n                <v-btn fab dark v-bind:style=\"{width: option.name, height: option.name, backgroundColor: selectedColor}\" @click=\"changeThickness(option)\"></v-btn>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n        </v-menu>\r\n      </v-flex>\r\n      <v-flex xs1>\r\n        <v-tooltip top>\r\n          <v-btn small :disabled=\"!isAllowed\" class=\"elevation-10\" slot=\"activator\" outline fab color=\"primary\" @click=\"clearBoard()\">\r\n            <v-icon>delete</v-icon>\r\n          </v-btn>\r\n          <span>Clear Board</span>\r\n        </v-tooltip>\r\n      </v-flex>\r\n      <div class=\"divider-actions\"></div>\r\n      <v-flex xs1>\r\n        <v-tooltip top>\r\n          <v-btn small class=\"elevation-10\" slot=\"activator\" outline fab color=\"error\" @click=\"exitToLobby()\">\r\n            <v-icon>call_end</v-icon>\r\n          </v-btn>\r\n          <span>Go to lobby</span>\r\n        </v-tooltip>\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { COLORS, THICKNESSES, TYPES } from '../constants/constants'\r\n\r\nexport default {\r\n  name: 'Actions',\r\n  data: () => ({\r\n    mic: true,\r\n    cam: true,\r\n    admin: false,\r\n    isAllowed: false,\r\n    selectedColor: '#f44336',\r\n    selectedThickness: '8px',\r\n    selectedType: 'brush',\r\n    colors: COLORS,\r\n    thicknesses: THICKNESSES,\r\n    types: TYPES,\r\n    user: JSON.parse(localStorage.getItem('user'))\r\n  }),\r\n  props: [\r\n    'room'\r\n  ],\r\n  mounted () {\r\n    this.$bus.on('set-admin', () => {\r\n      this.admin = true\r\n    })\r\n    this.$bus.on('change-permissions', (data) => {\r\n      console.log('change Permissions' + data)\r\n      this.isAllowed = data\r\n    })\r\n  },\r\n  methods: {\r\n    exitToLobby () {\r\n      this.$router.push('/app')\r\n    },\r\n    askForMic () {\r\n      console.log('Asked for mic')\r\n      this.$bus.emit('ask-for-mic')\r\n    },\r\n    askForBoard () {\r\n      this.$bus.emit('ask-for-turn')\r\n    },\r\n    takeBackPencil () {\r\n      this.$bus.emit('take-back-pencil')\r\n    },\r\n    changeColor (color) {\r\n      this.$bus.emit('change-color', color)\r\n      this.selectedColor = color\r\n    },\r\n    changeType (type) {\r\n      this.selectedType = type.icon\r\n      this.$bus.emit('change-type', type.value)\r\n    },\r\n    changeThickness (thickness) {\r\n      this.$bus.emit('change-thickness', thickness)\r\n      this.selectedThickness = thickness.name\r\n    },\r\n    clearBoard () {\r\n      this.$bus.emit('clear-board')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .actions-container{\r\n    background-color: #174557;\r\n    border-left: 1px solid #1b627c;\r\n  }\r\n  .divider-actions{\r\n    height: 100%;\r\n    width: 0.1%;\r\n    background-color: #1b627c;\r\n  }\r\n  #color-container{\r\n    width: 20vw;\r\n    background-color: #FFF;\r\n  }\r\n  #thickness-container{\r\n    width: 10vw;\r\n    background-color: #FFF;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Actions.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"actions-container\",attrs:{\"fluid\":\"\",\"grid-list-md\":\"\",\"text-xs-center\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"fill-height\":\"\",\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs3\":\"\",\"justify-start\":\"\"}},[_c('h1',{staticClass:\"title white--text\"},[_vm._v(_vm._s(_vm.room.nameRoom))]),_vm._v(\" \"),_c('span',{staticClass:\"body-2 grey--text\"},[_vm._v(\"Room id: \"+_vm._s(_vm.room.idRoom))])]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('div',{staticClass:\"divider-actions\"}),_vm._v(\" \"),(_vm.admin)?_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-tooltip',{attrs:{\"top\":\"\"}},[_c('v-btn',{staticClass:\"elevation-10\",attrs:{\"slot\":\"activator\",\"small\":\"\",\"disabled\":_vm.isAllowed,\"outline\":\"\",\"fab\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.takeBackPencil()}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"mdi-pencil-lock\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"Take back pencil\")])],1)],1):_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-tooltip',{attrs:{\"top\":\"\"}},[_c('v-btn',{staticClass:\"elevation-10\",attrs:{\"slot\":\"activator\",\"small\":\"\",\"disabled\":_vm.isAllowed,\"outline\":\"\",\"fab\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.askForBoard()}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"create\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"Ask for board\")])],1)],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\",\"nudge-left\":\"120\",\"nudge-top\":\"15\",\"top\":\"\"}},[_c('v-tooltip',{attrs:{\"slot\":\"activator\",\"top\":\"\"},slot:\"activator\"},[_c('v-btn',{staticClass:\"elevation-10\",style:({ backgroundColor: _vm.selectedColor}),attrs:{\"slot\":\"activator\",\"small\":\"\",\"dark\":\"\",\"fab\":\"\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"palette\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"Change color\")])],1),_vm._v(\" \"),_c('v-container',{attrs:{\"id\":\"color-container\",\"grid-list-sm\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.colors),function(color){return _c('v-flex',{key:color.value,attrs:{\"xs3\":\"\"}},[_c('v-tooltip',{attrs:{\"top\":\"\"}},[_c('v-btn',{style:({ backgroundColor: color.value}),attrs:{\"slot\":\"activator\",\"fab\":\"\",\"dark\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.changeColor(color.value)}},slot:\"activator\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(color.name))])],1)],1)}))],1)],1)],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\",\"top\":\"\",\"nudge-left\":\"35\",\"nudge-top\":\"15\"}},[_c('v-tooltip',{attrs:{\"slot\":\"activator\",\"top\":\"\"},slot:\"activator\"},[_c('v-btn',{staticClass:\"elevation-10\",attrs:{\"slot\":\"activator\",\"small\":\"\",\"outline\":\"\",\"fab\":\"\",\"color\":\"primary\"},slot:\"activator\"},[_c('v-icon',[_vm._v(_vm._s(_vm.selectedType))])],1),_vm._v(\" \"),_c('span',[_vm._v(\"Change type\")])],1),_vm._v(\" \"),_c('v-list',_vm._l((_vm.types),function(item){return _c('v-list-tile',{key:item.value,on:{\"click\":function($event){_vm.changeType(item)}}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(item.icon))])],1),_vm._v(\" \"),_c('v-list-tile-title',[_vm._v(_vm._s(item.name))])],1)}))],1)],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\",\"top\":\"\",\"nudge-left\":\"50\",\"nudge-top\":\"15\"}},[_c('v-tooltip',{attrs:{\"slot\":\"activator\",\"top\":\"\"},slot:\"activator\"},[_c('v-btn',{staticClass:\"elevation-10\",attrs:{\"slot\":\"activator\",\"small\":\"\",\"outline\":\"\",\"fab\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.changeThickness()}},slot:\"activator\"},[_c('v-icon',{style:({fontSize: _vm.selectedThickness})},[_vm._v(\"lens\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"Change thickness\")])],1),_vm._v(\" \"),_c('v-container',{attrs:{\"id\":\"thickness-container\",\"grid-list-sm\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.thicknesses),function(option){return _c('v-flex',{key:option.value,attrs:{\"xs6\":\"\"}},[_c('v-btn',{style:({width: option.name, height: option.name, backgroundColor: _vm.selectedColor}),attrs:{\"fab\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.changeThickness(option)}}})],1)}))],1)],1)],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-tooltip',{attrs:{\"top\":\"\"}},[_c('v-btn',{staticClass:\"elevation-10\",attrs:{\"slot\":\"activator\",\"small\":\"\",\"disabled\":!_vm.isAllowed,\"outline\":\"\",\"fab\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.clearBoard()}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"delete\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"Clear Board\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"divider-actions\"}),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-tooltip',{attrs:{\"top\":\"\"}},[_c('v-btn',{staticClass:\"elevation-10\",attrs:{\"slot\":\"activator\",\"small\":\"\",\"outline\":\"\",\"fab\":\"\",\"color\":\"error\"},on:{\"click\":function($event){_vm.exitToLobby()}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"call_end\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"Go to lobby\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-829a65fa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Actions.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-829a65fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Actions.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Actions.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Actions.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-829a65fa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Actions.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-829a65fa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Actions.vue\n// module id = null\n// module chunks = ","<template>\r\n  <v-container class=\"chat-container\">\r\n    <div id=\"messages\">\r\n      <ol class=\"conversation\">\r\n        <li class=\"message\" v-for=\"(message,index) in messages\" v-bind:key=\"index\" v-bind:class=\"{self: message.user_id == user.id, other: message.user_id != user.id}\">\r\n          <div v-if=\"message.user_id != user.id\" class=\"chat-avatar\">\r\n            <img :src=\"message.image\"/>\r\n          </div>\r\n          <div class=\"message-text\" style=\"word-wrap: break-word; max-width: 90%; text-align: left\">\r\n            {{message.message}}\r\n          </div>\r\n          <div v-if=\"message.user_id == user.id\" class=\"chat-avatar\">\r\n            <img :src=\"message.image\"/>\r\n          </div>\r\n        </li>\r\n      </ol>\r\n    </div>\r\n    <v-container id=\"input-container\">\r\n      <v-layout row>\r\n        <v-flex xs1>\r\n          <v-menu offset-y top :close-on-content-click=\"false\">\r\n            <v-btn slot=\"activator\" flat icon color=\"white\" style=\"margin: 0; z-index: 4\">\r\n              <v-icon>mdi-emoticon-happy</v-icon>\r\n            </v-btn>\r\n            <v-container style=\"background-color: #FFF\">\r\n              <picker @click=\"(emoji, event) => addEmoji(emoji)\"/>\r\n            </v-container>\r\n          </v-menu>\r\n        </v-flex>\r\n        <div id=\"new-message-container\" style=\"position: absolute; width: 100%; height: 10vh; bottom: 0; left: 0; background-color: #174557;\">\r\n          <v-text-field id=\"new-message\" autofocus solo multi-line no-resize label=\"Write a message\" v-model=\"newMessage\" style=\"position: absolute; width: 70%; left: 15%; bottom: 2vh; border-radius: 20px;\" @keyup.enter=\"sendMessage()\"></v-text-field>\r\n        </div>\r\n        <v-flex xs1 offset-xs10>\r\n          <v-btn flat icon color=\"white\" style=\"margin: 0; z-index: 4\" @click=\"sendMessage()\">\r\n            <v-icon>send</v-icon>\r\n          </v-btn>\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-container>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { MESSAGES_BY_ROOM_ID_QUERY, USER_IMAGE_BY_ID_QUERY } from '../constants/graphql'\r\nimport { Picker, Emoji } from 'emoji-mart-vue'\r\n\r\nexport default {\r\n  name: 'Chat',\r\n  data: () => ({\r\n    newMessage: '',\r\n    // eslint-disable-next-line\r\n    emojiConverter: new EmojiConvertor(),\r\n    user: JSON.parse(localStorage.getItem('user')),\r\n    messages: [],\r\n    socket: null,\r\n    roomId: 0\r\n  }),\r\n  props: [\r\n    'room',\r\n    'participants'\r\n  ],\r\n  mounted () {\r\n    this.roomId = this.$route.params.roomid\r\n    console.log(this.roomId)\r\n    let messageInput = document.getElementById('new-message')\r\n    let inputContainer = document.getElementById('new-message-container')\r\n    messageInput.style.height = 0\r\n    messageInput.style.height = messageInput.scrollHeight + 'px'\r\n    messageInput.addEventListener('keyup', function () {\r\n      this.style.height = 0\r\n      this.style.height = this.scrollHeight + 'px'\r\n      let newHeight = this.scrollHeight + 45\r\n      inputContainer.style.height = newHeight + 'px'\r\n    }, false)\r\n    this.emojiConverter.init_env()\r\n    this.emojiConverter.replace_mode = 'unified'\r\n    this.emojiConverter.allow_native = true\r\n    this.$apollo.query({\r\n      query: MESSAGES_BY_ROOM_ID_QUERY,\r\n      variables: {\r\n        id: this.roomId\r\n      }\r\n    }).then((result) => {\r\n      let data = result.data.chatMsgByRoomId.slice()\r\n      console.log(data)\r\n      let promises = []\r\n      let newMessages = []\r\n      data.forEach((message) => {\r\n        promises.push(\r\n          this.$apollo.query({\r\n            query: USER_IMAGE_BY_ID_QUERY,\r\n            variables: {\r\n              id: message.user_id\r\n            }\r\n          }).then((result) => {\r\n            return result.data.userById.data.image\r\n          }).catch((error) => {\r\n            console.log(error)\r\n          })\r\n        )\r\n      })\r\n      Promise.all(promises).then((values) => {\r\n        for (let i = 0; i < values.length; i++) {\r\n          newMessages.push({\r\n            message: data[i].message,\r\n            user_id: data[i].user_id,\r\n            image: values[i]\r\n          })\r\n        }\r\n        this.messages = newMessages\r\n      })\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n    this.initializeSockets()\r\n  },\r\n  methods: {\r\n    sendMessage () {\r\n      this.socket.send(JSON.stringify({\r\n        'category': 'NEW-MESSAGE',\r\n        'room_id': this.roomId,\r\n        'sender': 'Felipe',\r\n        'user_id': this.user.id,\r\n        'message': this.newMessage\r\n      }))\r\n      this.newMessage = ''\r\n      window.setTimeout(() => {\r\n        $('#new-message-container').height('10vh')\r\n        $('#new-message').height('27px')\r\n      }, 1)\r\n    },\r\n    addEmoji (data) {\r\n      this.newMessage += this.emojiConverter.replace_colons(data.colons)\r\n    },\r\n    initializeSockets () {\r\n      let URL = `ws://ec2-54-224-164-98.compute-1.amazonaws.com:4004/chat-room/${this.$route.params.roomid}`\r\n      // eslint-disable-next-line\r\n      this.socket = new ReconnectingWebSocket(URL)\r\n\r\n      this.socket.onopen = () => {\r\n        console.log('Connected to chat socket')\r\n        this.socket.send(JSON.stringify({\r\n          'category': 'JOIN-ROOM',\r\n          'room_id': this.roomId,\r\n          'user_id': this.user.nickname\r\n        }))\r\n      }\r\n\r\n      this.socket.onclose = () => {\r\n        console.log('Disconnected from the chat socket')\r\n      }\r\n\r\n      this.socket.onmessage = (msg) => {\r\n        let data = JSON.parse(msg.data)\r\n        if (data['category'] !== 'JOIN-ROOM') {\r\n          this.$apollo.query({\r\n            query: USER_IMAGE_BY_ID_QUERY,\r\n            variables: {\r\n              id: data.user_id\r\n            }\r\n          }).then((result) => {\r\n            this.messages.push({\r\n              message: data.message,\r\n              user_id: data.user_id,\r\n              image: result.data.userById.data.image\r\n            })\r\n          }).catch((error) => {\r\n            console.log(error)\r\n          })\r\n        } else {\r\n          this.$bus.emit('new-participant', data)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    'messages': function () {\r\n      window.setTimeout(() => {\r\n        $('#messages').scrollTop($('#messages')[0].scrollHeight + 200)\r\n      }, 50)\r\n    }\r\n  },\r\n  components: {\r\n    'picker': Picker,\r\n    'emoji': Emoji\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .chat-container{\r\n    background-color: #174557;\r\n  }\r\n  #input-container{\r\n    position: absolute;\r\n    height: 10vh;\r\n    width: 100%;\r\n    bottom: 0;\r\n    left: 0;\r\n  }\r\n  #messages{\r\n    background-color: #FFF;\r\n    position: absolute;\r\n    height: 67%;\r\n    width: 90%;\r\n    left: 5%;\r\n    bottom: 27%;\r\n    border-radius: 20px;\r\n    overflow-y: scroll;\r\n  }\r\n  .message{\r\n    padding: 5px 10px;\r\n  }\r\n  .message-text p {\r\n    margin: 0;\r\n  }\r\n  .conversation li {\r\n    display: flex;\r\n  }\r\n  .chat-avatar {\r\n    width: 40px;\r\n    height: 40px;\r\n    position: relative;\r\n  }\r\n  .chat-avatar img {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: block;\r\n    border-radius: 50%;\r\n  }\r\n  .self {\r\n    /* switch horizontal layout */\r\n    justify-content: flex-end;\r\n    /* switch vertical layout */\r\n    align-items: flex-end;\r\n  }\r\n  .self .message-text{\r\n    background-color:  #174557;\r\n    color: #FFFFFF;\r\n    border-bottom-left-radius: 5px;\r\n    border-top-left-radius: 5px;\r\n    border-top-right-radius: 5px;\r\n    padding: 15px 20px;\r\n  }\r\n  .other .message-text{\r\n    background-color: #E0E0E0;\r\n    color: #000000;\r\n    border-bottom-left-radius: 5px;\r\n    border-bottom-right-radius: 5px;\r\n    border-top-right-radius: 5px;\r\n    padding: 15px 20px;\r\n  }\r\n  .other .chat-avatar::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    width: 0;\r\n    height: 0;\r\n    border: 5px solid #E0E0E0;\r\n    border-left-color: transparent;\r\n    border-bottom-color: transparent;\r\n  }\r\n  .self .chat-avatar::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 0;\r\n    height: 0;\r\n    border: 5px solid #174557;\r\n    border-right-color: transparent;\r\n    border-top-color: transparent;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Chat.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"chat-container\"},[_c('div',{attrs:{\"id\":\"messages\"}},[_c('ol',{staticClass:\"conversation\"},_vm._l((_vm.messages),function(message,index){return _c('li',{key:index,staticClass:\"message\",class:{self: message.user_id == _vm.user.id, other: message.user_id != _vm.user.id}},[(message.user_id != _vm.user.id)?_c('div',{staticClass:\"chat-avatar\"},[_c('img',{attrs:{\"src\":message.image}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"message-text\",staticStyle:{\"word-wrap\":\"break-word\",\"max-width\":\"90%\",\"text-align\":\"left\"}},[_vm._v(\"\\n          \"+_vm._s(message.message)+\"\\n        \")]),_vm._v(\" \"),(message.user_id == _vm.user.id)?_c('div',{staticClass:\"chat-avatar\"},[_c('img',{attrs:{\"src\":message.image}})]):_vm._e()])}))]),_vm._v(\" \"),_c('v-container',{attrs:{\"id\":\"input-container\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\",\"top\":\"\",\"close-on-content-click\":false}},[_c('v-btn',{staticStyle:{\"margin\":\"0\",\"z-index\":\"4\"},attrs:{\"slot\":\"activator\",\"flat\":\"\",\"icon\":\"\",\"color\":\"white\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"mdi-emoticon-happy\")])],1),_vm._v(\" \"),_c('v-container',{staticStyle:{\"background-color\":\"#FFF\"}},[_c('picker',{on:{\"click\":function (emoji, event) { return _vm.addEmoji(emoji); }}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"width\":\"100%\",\"height\":\"10vh\",\"bottom\":\"0\",\"left\":\"0\",\"background-color\":\"#174557\"},attrs:{\"id\":\"new-message-container\"}},[_c('v-text-field',{staticStyle:{\"position\":\"absolute\",\"width\":\"70%\",\"left\":\"15%\",\"bottom\":\"2vh\",\"border-radius\":\"20px\"},attrs:{\"id\":\"new-message\",\"autofocus\":\"\",\"solo\":\"\",\"multi-line\":\"\",\"no-resize\":\"\",\"label\":\"Write a message\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.sendMessage()}},model:{value:(_vm.newMessage),callback:function ($$v) {_vm.newMessage=$$v},expression:\"newMessage\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs1\":\"\",\"offset-xs10\":\"\"}},[_c('v-btn',{staticStyle:{\"margin\":\"0\",\"z-index\":\"4\"},attrs:{\"flat\":\"\",\"icon\":\"\",\"color\":\"white\"},on:{\"click\":function($event){_vm.sendMessage()}}},[_c('v-icon',[_vm._v(\"send\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d5382cc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Chat.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d5382cc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Chat.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Chat.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Chat.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d5382cc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Chat.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6d5382cc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Chat.vue\n// module id = null\n// module chunks = ","export default {\r\n  name: 'Streaming',\r\n  data: () => ({\r\n    videos: [],\r\n    mic: true,\r\n    cam: true,\r\n    webrtc: {}\r\n  }),\r\n  mounted: function () {\r\n    // eslint-disable-next-line\r\n    let webrtc = new SimpleWebRTC({\r\n      localVideoEl: 'localVideo',\r\n      remoteVideosEl: '',\r\n      autoRequestMedia: true,\r\n      url: 'http://ec2-34-228-226-216.compute-1.amazonaws.com:8888/'\r\n    })\r\n\r\n    this.$bus.on('user-disconnected', () => {\r\n      webrtc.stopLocalVideo()\r\n      webrtc.leaveRoom()\r\n    })\r\n\r\n    webrtc.on('readyToCall', function () {\r\n      // you can name it anything\r\n      webrtc.joinRoom('test')\r\n    })\r\n\r\n    webrtc.on('videoAdded', (video, peer) => {\r\n      console.log(peer)\r\n      this.videos.push(webrtc.getDomId(peer))\r\n      window.setTimeout(() => {\r\n        var container = document.getElementById(webrtc.getDomId(peer))\r\n        var overlay = document.createElement('div')\r\n        overlay.id = `overlay-${peer.id}`\r\n        overlay.classList.add(['overlay'])\r\n        overlay.innerHTML = `<i aria-hidden=\"true\" class=\"icon material-icons mute-icon\">mic</i>`\r\n        container.appendChild(video)\r\n        container.appendChild(overlay)\r\n        // suppress contextmenu\r\n        video.oncontextmenu = function () { return false }\r\n        video.onclick = function () {\r\n          let overlay = document.getElementById(`overlay-${peer.id}`)\r\n          if (video.volume === 0) {\r\n            video.volume = 1\r\n            overlay.innerHTML = `<i aria-hidden=\"true\" class=\"icon material-icons mute-icon\">mic</i>`\r\n            overlay.classList.remove(['overlay-muted'])\r\n          } else {\r\n            video.volume = 0\r\n            overlay.innerHTML = `<i aria-hidden=\"true\" class=\"icon material-icons unmute-icon\">mic_off</i>`\r\n            overlay.classList.add(['overlay-muted'])\r\n          }\r\n        }\r\n        video.onmouseenter = function () {\r\n          let overlay = document.getElementById(`overlay-${peer.id}`)\r\n          overlay.classList.add(['overlay-active'])\r\n        }\r\n        video.onmouseleave = function () {\r\n          let overlay = document.getElementById(`overlay-${peer.id}`)\r\n          overlay.classList.remove(['overlay-active'])\r\n        }\r\n      }, 100)\r\n    })\r\n\r\n    this.webrtc = webrtc\r\n  },\r\n  methods: {\r\n    muteMic () {\r\n      this.mic = false\r\n      this.webrtc.mute()\r\n      this.$bus.emit('mute-mic')\r\n    },\r\n    unmuteMic () {\r\n      this.mic = true\r\n      this.webrtc.unmute()\r\n      this.$bus.emit('unmute-mic')\r\n    },\r\n    useCam () {\r\n      this.cam = true\r\n      this.webrtc.resumeVideo()\r\n      this.$bus.emit('activate-cam')\r\n    },\r\n    blockCam () {\r\n      this.cam = false\r\n      this.webrtc.pauseVideo()\r\n      this.$bus.emit('block-cam')\r\n    },\r\n    muteUser (id) {\r\n      console.log(id)\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Streaming.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"streaming-container\"},[_c('div',{attrs:{\"id\":\"local-container\"}},[_c('div',{attrs:{\"id\":\"local-video-actions\"}},[(_vm.mic)?_c('v-tooltip',{attrs:{\"top\":\"\"}},[_c('v-btn',{staticClass:\"elevation-10\",attrs:{\"slot\":\"activator\",\"small\":\"\",\"outline\":\"\",\"fab\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.muteMic()}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"mic\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"Mute your microphone\")])],1):_vm._e(),_vm._v(\" \"),(!_vm.mic)?_c('v-tooltip',{attrs:{\"top\":\"\"}},[_c('v-btn',{staticClass:\"elevation-10\",attrs:{\"slot\":\"activator\",\"small\":\"\",\"outline\":\"\",\"fab\":\"\",\"color\":\"error\"},on:{\"click\":function($event){_vm.unmuteMic()}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"mic_off\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"Unmute your microphone\")])],1):_vm._e(),_vm._v(\" \"),(_vm.cam)?_c('v-tooltip',{attrs:{\"top\":\"\"}},[_c('v-btn',{staticClass:\"elevation-10\",attrs:{\"slot\":\"activator\",\"small\":\"\",\"outline\":\"\",\"fab\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.blockCam()}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"videocam\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"Hide cam\")])],1):(!_vm.cam)?_c('v-tooltip',{attrs:{\"top\":\"\"}},[_c('v-btn',{staticClass:\"elevation-10\",attrs:{\"slot\":\"activator\",\"small\":\"\",\"outline\":\"\",\"fab\":\"\",\"color\":\"error\"},on:{\"click\":function($event){_vm.useCam()}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"videocam_off\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"Show cam\")])],1):_vm._e()],1),_vm._v(\" \"),_c('video',{attrs:{\"id\":\"localVideo\"}})]),_vm._v(\" \"),_c('carousel',{attrs:{\"id\":\"remote-container\",\"loop\":\"\",\"perPage\":3,\"navigationEnabled\":true,\"scrollPerPage\":true,\"paginationEnabled\":false}},_vm._l((_vm.videos),function(video){return _c('slide',{key:video,staticClass:\"remoteVideo\",attrs:{\"id\":video}})}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d91f7b46\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Streaming.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d91f7b46\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Streaming.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./Streaming.js\"\nimport __vue_script__ from \"!!babel-loader!./Streaming.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d91f7b46\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Streaming.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Streaming.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"room\">\r\n    <board id=\"board-container\"></board>\r\n    <actions :room=\"room\" id=\"actions-container\"></actions>\r\n    <cameras id=\"streaming-container\"></cameras>\r\n    <chat :room=\"room\" :participants=\"room.Participants\" id=\"chat-container\"></chat>\r\n    <v-snackbar\r\n      color=\"info\"\r\n      v-model=\"snackbar\"\r\n      top\r\n      >\r\n      {{ message }}\r\n      <v-btn dark flat @click.native=\"snackbar = false\"><v-icon>close</v-icon></v-btn>\r\n    </v-snackbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ROOM_BY_ID_QUERY, DELETE_ROOM_MUTATION, EXIT_ROOM_MUTATION } from '../constants/graphql'\r\nimport Board from '@/components/Board.vue'\r\nimport Actions from '@/components/Actions.vue'\r\nimport Chat from '@/components/Chat.vue'\r\nimport Streaming from '@/components/Streaming.vue'\r\nexport default {\r\n  name: 'Room',\r\n  components: {\r\n    'board': Board,\r\n    'actions': Actions,\r\n    'chat': Chat,\r\n    'cameras': Streaming\r\n  },\r\n  data: () => ({\r\n    room: {},\r\n    user: JSON.parse(localStorage.getItem('user')),\r\n    message: '',\r\n    snackbar: false,\r\n    admin: false\r\n  }),\r\n  created () {\r\n    this.$apollo.query({\r\n      query: ROOM_BY_ID_QUERY,\r\n      variables: {\r\n        id: this.$route.params.roomid\r\n      }\r\n    }).then((result) => {\r\n      this.room = result.data.roomById\r\n      this.message = `Welcome to ${this.room.nameRoom}`\r\n      this.snackbar = true\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n    this.$bus.on('new-participant', (data) => {\r\n      if (data.message.split(' ')[0] !== `${this.user.nickname}`) {\r\n        this.message = data.message\r\n        this.snackbar = true\r\n      }\r\n    })\r\n    this.$bus.on('user-disconnected', (data) => {\r\n      if (data) {\r\n        this.message = `User ${data} disconnected`\r\n        this.snackbar = true\r\n      }\r\n    })\r\n    this.$bus.on('new-drawer', (data) => {\r\n      this.message = `${data} is now drawing`\r\n      this.snackbar = true\r\n    })\r\n  },\r\n  mounted () {\r\n    this.$bus.on('set-admin', () => {\r\n      console.log('onadmin')\r\n      this.admin = true\r\n    })\r\n  },\r\n  beforeRouteLeave (to, from, next) {\r\n    if (this.admin) {\r\n      this.$swal({\r\n        title: 'Leaving room',\r\n        text: `You're the owner of the room, if you leave the room will be deleted and all the participants will be kicked. Are you sure you want to leave the room?`,\r\n        type: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#26d3cd',\r\n        cancelButtonColor: '#f44336',\r\n        confirmButtonText: 'Yes',\r\n        cancelButtonText: 'No'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          console.log('Yes')\r\n          this.$bus.emit('user-disconnected')\r\n          this.$apollo.mutate({\r\n            mutation: DELETE_ROOM_MUTATION,\r\n            variables: {\r\n              idOwner: this.user.id,\r\n              idRoom: this.room.idRoom\r\n            }\r\n          }).then((response) => {\r\n            console.log('Success')\r\n            next()\r\n          }).catch((error) => {\r\n            console.log(error)\r\n          })\r\n        } else {\r\n          console.log('No')\r\n          next(false)\r\n        }\r\n      })\r\n    } else {\r\n      this.$apollo.mutate({\r\n        mutation: EXIT_ROOM_MUTATION,\r\n        variables: {\r\n          idOwner: this.user.id,\r\n          idRoom: this.room.idRoom\r\n        }\r\n      }).then((response) => {\r\n        console.log('Success')\r\n        this.$bus.emit('user-disconnected')\r\n        next()\r\n      }).catch((error) => {\r\n        console.log(error)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n    .room{\r\n      background-color: #000;\r\n      overflow: hidden;\r\n    }\r\n    .name{\r\n      z-index: 3;\r\n      position: absolute;\r\n      right: 1vh;\r\n      bottom: 22vh;\r\n      color: #FFF;\r\n    }\r\n    #board-container{\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 75%;\r\n      height: 90%;\r\n    }\r\n    #streaming-container{\r\n      position: absolute;\r\n      top: 0;\r\n      right: 0;\r\n      height: 50%;\r\n      width: 25%;\r\n    }\r\n    #chat-container{\r\n      position: absolute;\r\n      bottom: 0;\r\n      right: 0;\r\n      height: 50%;\r\n      width: 25%;\r\n    }\r\n    #actions-container{\r\n      position: absolute;\r\n      bottom: 0;\r\n      left: 0;\r\n      height: 10%;\r\n      width: 75%;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Room.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"room\"},[_c('board',{attrs:{\"id\":\"board-container\"}}),_vm._v(\" \"),_c('actions',{attrs:{\"room\":_vm.room,\"id\":\"actions-container\"}}),_vm._v(\" \"),_c('cameras',{attrs:{\"id\":\"streaming-container\"}}),_vm._v(\" \"),_c('chat',{attrs:{\"room\":_vm.room,\"participants\":_vm.room.Participants,\"id\":\"chat-container\"}}),_vm._v(\" \"),_c('v-snackbar',{attrs:{\"color\":\"info\",\"top\":\"\"},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.message)+\"\\n    \"),_c('v-btn',{attrs:{\"dark\":\"\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.snackbar = false}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f3d00c6a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Room.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f3d00c6a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Room.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Room.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Room.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f3d00c6a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Room.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f3d00c6a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Room.vue\n// module id = null\n// module chunks = ","<template>\r\n  <v-app id=\"login-page\">\r\n    <v-container id=\"login-card\" class=\"elevation-10\">\r\n        <div id=\"login-form\">\r\n            <img src=\"@/assets/images/logo.png\" id=\"logo\">\r\n            <v-container>\r\n                <v-form v-model=\"valid\" ref=\"form\" lazy-validation>\r\n                <v-text-field\r\n                label=\"Enter your email\"\r\n                prepend-icon=\"mail\"\r\n                v-model=\"email\"\r\n                :rules=\"emailRules\"\r\n                required\r\n                autofocus\r\n                @keyup.enter=\"submit\"\r\n                ></v-text-field>\r\n                <v-text-field\r\n                label=\"Enter your password\"\r\n                hint=\"At least 8 characters\"\r\n                prepend-icon=\"lock\"\r\n                v-model=\"password\"\r\n                :rules=\"passwordRules\"\r\n                :append-icon=\"hidden ? 'visibility' : 'visibility_off'\"\r\n                :append-icon-cb=\"() => (hidden = !hidden)\"\r\n                :type=\"hidden ? 'password' : 'text'\"\r\n                required\r\n                @keyup.enter=\"submit\"\r\n                ></v-text-field>\r\n                <v-btn fab dark id=\"login-button\" @click=\"submit\">\r\n                    <v-icon dark>send</v-icon>\r\n                </v-btn>\r\n            </v-form>\r\n            </v-container>\r\n        </div>\r\n        <div id=\"login-banner\">\r\n            <h1 id=\"banner-phrase\">Join people around the world in interactive video conferences!</h1>\r\n            <img src=\"@/assets/images/banner.png\" alt=\"\" id=\"banner-image\">\r\n        </div>\r\n         <v-snackbar\r\n        color=\"error\"\r\n        v-model=\"snackbar\"\r\n        >\r\n        {{ message }}\r\n        <v-btn dark flat @click.native=\"snackbar = false\"><v-icon>close</v-icon></v-btn>\r\n        </v-snackbar>\r\n    </v-container>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport { CREATE_SESSION_MUTATION } from '../constants/graphql'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  data: () => ({\r\n    valid: false,\r\n    email: '',\r\n    emailRules: [\r\n      v => !!v || 'E-mail is required',\r\n      v => /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v) || 'E-mail must be valid'\r\n    ],\r\n    password: '',\r\n    passwordRules: [\r\n      v => !!v || 'Password is required',\r\n      v => (v && v.length >= 8) || 'Password must be at least 8 characters long'\r\n    ],\r\n    hidden: true,\r\n    snackbar: false,\r\n    message: 'Incorrect Credentials'\r\n  }),\r\n  methods: {\r\n    submit () {\r\n      if (this.$refs.form.validate()) {\r\n        this.$apollo.mutate({\r\n          mutation: CREATE_SESSION_MUTATION,\r\n          variables: {\r\n            email: this.email,\r\n            password: this.password\r\n          }\r\n        }).then((response) => {\r\n          let user = response.data.createSession\r\n          delete user['__typename']\r\n          localStorage.setItem('user', JSON.stringify(user))\r\n          this.$router.push({path: `/app`})\r\n        }).catch((error) => {\r\n          console.log(error)\r\n          this.snackbar = true\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css?family=Patua+One');\r\n#login-page{\r\n    overflow: hidden;\r\n    background-color: #174557;\r\n}\r\n#bg-video{\r\n    height: auto;\r\n    width: 100vw;\r\n    position: absolute;\r\n}\r\n#overlay{\r\n    height: 100vh;\r\n    width: 100vw;\r\n    z-index: 1;\r\n    position: absolute;\r\n    background-color: rgba(0,0,0,0.5);\r\n}\r\n#login-card{\r\n    position: absolute;\r\n    width: 50vw;\r\n    height: 80vh;\r\n    top: 10vh;\r\n    left: 25vw;\r\n    background-color: #FFF;\r\n    z-index: 2;\r\n    border-radius: 10px;\r\n}\r\n#login-form{\r\n    position: absolute;\r\n    width: 50%;\r\n    height: 100%;\r\n    left: 0;\r\n    top: 0;\r\n}\r\n#login-banner{\r\n    position: absolute;\r\n    width: 50%;\r\n    height: 100%;\r\n    right: 0;\r\n    top: 0;\r\n    border-top-right-radius: 10px;\r\n    border-bottom-right-radius: 10px;\r\n    background-color: #0a8b88;\r\n}\r\n#login-button{\r\n    position: absolute;\r\n    right: -10%;\r\n    top: 80%;\r\n    background-color: #26d3cd;\r\n    z-index: 3;\r\n}\r\n#logo{\r\n    position: relative;\r\n    top: 20%;\r\n    margin-bottom: 30%;\r\n    max-width: 95%;\r\n    min-width: 95%;\r\n    left: 2.5%;\r\n}\r\n#banner-phrase{\r\n    position: absolute;\r\n    width: 90%;\r\n    top: 5%;\r\n    left: 5%;\r\n    font-family: 'Patua One', cursive;\r\n    color: #FFF;\r\n}\r\n#banner-image{\r\n    position: absolute;\r\n    max-width: 90%;\r\n    bottom: 5%;\r\n    left: 5%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"login-page\"}},[_c('v-container',{staticClass:\"elevation-10\",attrs:{\"id\":\"login-card\"}},[_c('div',{attrs:{\"id\":\"login-form\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/images/logo.png\"),\"id\":\"logo\"}}),_vm._v(\" \"),_c('v-container',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"label\":\"Enter your email\",\"prepend-icon\":\"mail\",\"rules\":_vm.emailRules,\"required\":\"\",\"autofocus\":\"\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"label\":\"Enter your password\",\"hint\":\"At least 8 characters\",\"prepend-icon\":\"lock\",\"rules\":_vm.passwordRules,\"append-icon\":_vm.hidden ? 'visibility' : 'visibility_off',\"append-icon-cb\":function () { return (_vm.hidden = !_vm.hidden); },\"type\":_vm.hidden ? 'password' : 'text',\"required\":\"\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"id\":\"login-button\"},on:{\"click\":_vm.submit}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"send\")])],1)],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"login-banner\"}},[_c('h1',{attrs:{\"id\":\"banner-phrase\"}},[_vm._v(\"Join people around the world in interactive video conferences!\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"@/assets/images/banner.png\"),\"alt\":\"\",\"id\":\"banner-image\"}})]),_vm._v(\" \"),_c('v-snackbar',{attrs:{\"color\":\"error\"},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.message)+\"\\n      \"),_c('v-btn',{attrs:{\"dark\":\"\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.snackbar = false}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e2a5fe4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e2a5fe4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e2a5fe4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2e2a5fe4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = null\n// module chunks = ","<template>\r\n  <v-app id=\"inspire\">\r\n    <v-content>\r\n      <router-view></router-view>\r\n    </v-content>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport { VALIDATE_TOKEN_QUERY } from '../constants/graphql'\r\n\r\nexport default {\r\n  name: 'Application',\r\n  data: () => ({\r\n    drawer: false\r\n  }),\r\n  props: {\r\n    source: String\r\n  },\r\n  beforeRouteEnter (to, from, next) {\r\n    next(vm => {\r\n      let userString = localStorage.getItem('user')\r\n      if (userString == null) {\r\n        userString = ''\r\n      }\r\n      if (userString !== '') {\r\n        let user = JSON.parse(userString)\r\n        console.log(user)\r\n        vm.$apollo.query({\r\n          query: VALIDATE_TOKEN_QUERY,\r\n          variables: {\r\n            client: user.client,\r\n            token: user.token,\r\n            uid: user.email\r\n          }\r\n        }).then((result) => {\r\n          let newData = result.data.validateSession\r\n          if (newData.token !== '') {\r\n            user['token'] = newData.token\r\n            user['client'] = newData.client\r\n            localStorage.setItem('user', JSON.stringify(user))\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error)\r\n          vm.$router.push({path: `/login`})\r\n        })\r\n      } else {\r\n        vm.$router.push({path: `/login`})\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Application.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('v-content',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a5c877c0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Application.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a5c877c0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Application.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Application.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Application.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a5c877c0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Application.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Application.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Lobby from '@/components/Lobby'\r\nimport Room from '@/components/Room'\r\nimport Login from '@/components/Login'\r\nimport Application from '@/components/Application'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  mode: 'history',\r\n  routes: [\r\n    {\r\n      path: '/login',\r\n      name: 'Login',\r\n      component: Login\r\n    },\r\n    {\r\n      path: '/app',\r\n      name: 'Application',\r\n      component: Application,\r\n      children: [\r\n        {\r\n          path: ':roomid',\r\n          name: 'Room',\r\n          component: Room\r\n        },\r\n        {\r\n          path: '',\r\n          name: 'Lobby',\r\n          component: Lobby,\r\n          canReuse: false\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: '',\r\n      redirect: '/app'\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport VueSweetalert2 from 'vue-sweetalert2'\r\nimport { ApolloClient } from 'apollo-client'\r\nimport { HttpLink } from 'apollo-link-http'\r\nimport { InMemoryCache } from 'apollo-cache-inmemory'\r\nimport VueApollo from 'vue-apollo'\r\nimport Vuetify from 'vuetify'\r\nimport 'vuetify/dist/vuetify.min.css'\r\nimport Vuex from 'vuex'\r\nimport VueBus from 'vue-bus'\r\nimport VueCarousel from 'vue-carousel'\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    count: 0\r\n  },\r\n  mutations: {\r\n    increment (state) {\r\n      state.count++\r\n    }\r\n  }\r\n})\r\n\r\nVue.use(VueBus)\r\n\r\nconst httpLink = new HttpLink({\r\n  uri: 'http://ec2-35-168-17-78.compute-1.amazonaws.com:5000/graphql'\r\n})\r\n\r\nconst apolloClient = new ApolloClient({\r\n  link: httpLink,\r\n  cache: new InMemoryCache(),\r\n  connectToDevTools: true\r\n})\r\n\r\nVue.use(VueApollo)\r\n\r\nconst apolloProvider = new VueApollo({\r\n  defaultClient: apolloClient\r\n})\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.use(VueSweetalert2)\r\n\r\nVue.use(Vuetify, {\r\n  theme: {\r\n    primary: '#26d3cd',\r\n    secondary: '#0a8b88',\r\n    accent: '#174557',\r\n    error: '#f44336',\r\n    warning: '#ffeb3b',\r\n    info: '#2196f3',\r\n    success: '#4caf50'\r\n  },\r\n  icons: {\r\n    'eraser': 'sb-eraser'\r\n  }\r\n})\r\n\r\nVue.use(VueCarousel)\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  provide: apolloProvider.provide(),\r\n  store: store,\r\n  components: {App},\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = __webpack_public_path__ + \"static/img/banner.38250db.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/banner.png\n// module id = P07D\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/logo.61f5306.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/logo.png\n// module id = iQH9\n// module chunks = 1"],"sourceRoot":""}